

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>PROYEK SAINS DATA EXTRAKSI CIRI AUDIO &#8212; Proyek Sains Data Mubessirul Ummah</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '210411100140_Mubessirul_Ummah_PSD_Pertemuan_6';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/images.png" class="logo__image only-light" alt="Proyek Sains Data Mubessirul Ummah - Home"/>
    <script>document.write(`<img src="_static/images.png" class="logo__image only-dark" alt="Proyek Sains Data Mubessirul Ummah - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    PROYEK SAINS DATA
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="PSD_Mubessirul%20Ummah_210411100140_Water%20Quality.html"><center><b>PROYEK SAINS DATA WATER QUALITY<b></b></b></center></a></li>







</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F210411100140_Mubessirul_Ummah_PSD_Pertemuan_6.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/210411100140_Mubessirul_Ummah_PSD_Pertemuan_6.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>PROYEK SAINS DATA EXTRAKSI CIRI AUDIO</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PROYEK SAINS DATA EXTRAKSI CIRI AUDIO</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-dan-informasi-dataset">DESKRIPSI DAN INFORMASI DATASET</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-pustaka-python"><strong>Import pustaka python</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-statistik-frekuensi"><strong>Fungsi untuk menghitung statistik frekuensi</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-zero-crossig-rate"><strong>Fungsi untuk menghitung zero crossig rate</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-rms-root-mean-square-energi-signal"><strong>Fungsi untuk menghitung RMS (Root Mean Square) energi signal</strong></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ekstraksi-fitur-dari-sejumlah-file-audio-dalam-berbagai-folder"><strong>Ekstraksi fitur dari sejumlah file audio dalam berbagai folder</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#menyimpan-hasil-ekstraksi-fitur-ke-dalam-csv"><strong>Menyimpan hasil ekstraksi fitur ke dalam csv</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data-csv"><strong>Menampilkan data CSV</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data"><strong>Normalisasi Data</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#melihat-mean-dan-standar-devisiasi-setiap-kolom">Melihat mean dan standar devisiasi setiap kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-zscore"><strong>Normalisasi Data Zscore</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zscore-knn-tanpa-reduksi">Zscore+KNN Tanpa Reduksi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-knn">Prediksi KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduksi-data-zscore-knn-dengan-pca">Reduksi Data (Zscore+KNN dengan PCA)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zscore-knn-dengan-grid-search-pca">Zscore+KNN dengan Grid Search PCA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-hasil-akurasi-antara-metode-knn">Perbandingan Hasil Akurasi Antara Metode KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-minmax"><strong>Normalisasi Data MinMax</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-tanpa-reduksi">MinMax+KNN Tanpa Reduksi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-minmax-knn">Prediksi MinMax + KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-dengan-pca">MinMax+KNN dengan PCA</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-dengan-grid-search-pca">MinMax+KNN dengan Grid Search PCA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Perbandingan Hasil Akurasi Antara Metode KNN</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="proyek-sains-data-extraksi-ciri-audio">
<h1>PROYEK SAINS DATA EXTRAKSI CIRI AUDIO<a class="headerlink" href="#proyek-sains-data-extraksi-ciri-audio" title="Permalink to this heading">#</a></h1>
<section id="deskripsi-dan-informasi-dataset">
<h2>DESKRIPSI DAN INFORMASI DATASET<a class="headerlink" href="#deskripsi-dan-informasi-dataset" title="Permalink to this heading">#</a></h2>
<p>DATASET DIAMBIL DARI WEBSITE KAGGLE</p>
<p><a class="reference external" href="https://www.kaggle.com/datasets/ejlok1/toronto-emotional-speech-set-tess?resource=download">https://www.kaggle.com/datasets/ejlok1/toronto-emotional-speech-set-tess?resource=download</a></p>
<p>BUSINESS UNDERSTANDING - TUJUAN</p>
<p>Dataset ini bertujuan untuk memberikan bahan yang kaya dan bervariasi bagi peneliti atau praktisi dalam bidang pemrosesan suara dan analisis emosi untuk mengembangkan dan menguji model-model yang dapat mengenali dan memahami ekspresi emosi manusia berdasarkan sinyal audio.</p>
<p>DATA UNDERSTANDING - INFORMASI FITUR</p>
<p>Dataset audio yang digunakan untuk pengolahan ini terdiri dari 2810 rekaman suara manusia yang terstruktur dengan rapi dalam beberapa folder, mewakili berbagai ekspresi emosi manusia. Setiap folder menggambarkan kategori emosi tertentu, termasuk ‘sad’ (sedih), ‘pleasant_surprised’ (senang terkejut), ‘neutral’ (netral), ‘happy’ (bahagia), ‘fear’ (takut), ‘disgust’ (jijik), dan ‘angry’ (marah). Masing-masing folder ini mencakup variasi suara manusia yang berbeda, menciptakan keberagaman dalam ekspresi emosi.</p>
<p>Setiap rekaman audio dalam dataset ini memiliki berbagai fitur yang diekstrak dari sinyal audio. Fitur-fitur ini memberikan wawasan tentang karakteristik dan statistik sinyal audio, membantu dalam pemahaman dan pemodelan ekspresi emosi. Beberapa fitur utama yang diekstrak melibatkan Statistik frekuensi, Zero Crossing Rate (ZCR) dan Root Mean Square Energi (RMSE). Berikut adalah penjelasan singkat untuk masing-masing fitur :</p>
<p>Zero Crossing Rate (ZCR) :</p>
<p>ZCR Mean : Rata-rata tingkat perubahan tanda nol dalam sinyal audio.</p>
<p>ZCR Median : Nilai tengah dari tingkat perubahan tanda nol.</p>
<p>ZCR Std Dev : Deviasi standar dari tingkat perubahan tanda nol.</p>
<p>ZCR Kurtosis : Ukuran keruncingan distribusi tingkat perubahan tanda nol.</p>
<p>ZCR Skew : Ukuran kemiringan distribusi tingkat perubahan tanda nol.</p>
<p>Root Mean Square Error (RMSE) :</p>
<p>RMSE : Akar kuadrat dari rata-rata dari kuadrat perbedaan antara nilai-nilai aktual dan nilai-nilai yang diprediksi.</p>
<p>RMSE Median : Nilai tengah dari distribusi RMSE.</p>
<p>RMSE Std Dev : Deviasi standar dari distribusi RMSE.</p>
<p>RMSE Kurtosis : Ukuran keruncingan distribusi RMSE.</p>
<p>RMSE Skew : Ukuran kemiringan distribusi RMSE.</p>
<p>Label untuk setiap rekaman audio diambil dari nama folder tempat rekaman tersebut disimpan, mencerminkan kategori emosi yang tercermin dalam rekaman tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
<span class="o">%</span><span class="k">cd</span> /content/drive/MyDrive/pertemuan 4
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-1-e44ac60cb5fa&gt;</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s1">&#39;cd&#39;</span><span class="p">,</span> <span class="s1">&#39;/content/drive/MyDrive/pertemuan 4&#39;</span><span class="p">)</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/drive.py</span> in <span class="ni">mount</span><span class="nt">(mountpoint, force_remount, timeout_ms, readonly)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">def</span> <span class="nf">mount</span><span class="p">(</span><span class="n">mountpoint</span><span class="p">,</span> <span class="n">force_remount</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="mi">120000</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span><span class="w">   </span><span class="sd">&quot;&quot;&quot;Mount your Google Drive at the specified mountpoint path.&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">103</span>   <span class="k">return</span> <span class="n">_mount</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>       <span class="n">mountpoint</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span>       <span class="n">force_remount</span><span class="o">=</span><span class="n">force_remount</span><span class="p">,</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/drive.py</span> in <span class="ni">_mount</span><span class="nt">(mountpoint, force_remount, timeout_ms, ephemeral, readonly)</span>
<span class="g g-Whitespace">    </span><span class="mi">130</span>   <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">131</span>   <span class="k">if</span> <span class="n">ephemeral</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">132</span>     <span class="n">_message</span><span class="o">.</span><span class="n">blocking_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">133</span>         <span class="s1">&#39;request_auth&#39;</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;authType&#39;</span><span class="p">:</span> <span class="s1">&#39;dfs_ephemeral&#39;</span><span class="p">},</span> <span class="n">timeout_sec</span><span class="o">=</span><span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">134</span>     <span class="p">)</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/_message.py</span> in <span class="ni">blocking_request</span><span class="nt">(request_type, request, timeout_sec, parent)</span>
<span class="g g-Whitespace">    </span><span class="mi">174</span>       <span class="n">request_type</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">expect_reply</span><span class="o">=</span><span class="kc">True</span>
<span class="g g-Whitespace">    </span><span class="mi">175</span>   <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">176</span>   <span class="k">return</span> <span class="n">read_reply_from_input</span><span class="p">(</span><span class="n">request_id</span><span class="p">,</span> <span class="n">timeout_sec</span><span class="p">)</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/_message.py</span> in <span class="ni">read_reply_from_input</span><span class="nt">(message_id, timeout_sec)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span>     <span class="n">reply</span> <span class="o">=</span> <span class="n">_read_next_input_message</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span>     <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">_NOT_READY</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">96</span>       <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.025</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">97</span>       <span class="k">continue</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span>     <span class="k">if</span> <span class="p">(</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%capture</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">librosa</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="import-pustaka-python">
<h2><strong>Import pustaka python</strong><a class="headerlink" href="#import-pustaka-python" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>librosa untuk analisis audio (mengambil fitur audio, memvisualisasikan audio, dan lainnya.)</p></li>
<li><p>matplotlib dan seaborn untuk visualisasi (membuat grafik dan plot)</p></li>
<li><p>numpy untuk operasi matematika</p></li>
<li><p>scipy.stats untuk statistik</p></li>
<li><p>pandas untuk manipulasi data (dalam bentuk dataframe)</p></li>
<li><p>os untuk interaksi dengan sistem operasi (mengakses file dan direktori)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">librosa.display</span>
<span class="kn">import</span> <span class="nn">IPython</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="fungsi-untuk-menghitung-statistik-frekuensi">
<h2><strong>Fungsi untuk menghitung statistik frekuensi</strong><a class="headerlink" href="#fungsi-untuk-menghitung-statistik-frekuensi" title="Permalink to this heading">#</a></h2>
<p>fungsi describe_freq yang digunakan untuk menghitung berbagai statistik dasar dari data frekuensi. Statistik yang dihitung meliputi rata-rata, standar deviasi, nilai maksimum, nilai minimum, median, skewness, kurtosis, kuartil pertama, kuartil ketiga, modus, dan jangkauan antarkuartil. Fungsi ini mengembalikan statistik-statistik ini dalam bentuk daftar (list).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fungsi untuk menghitung statistik frekuensi</span>
<span class="k">def</span> <span class="nf">describe_freq</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">maxv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">minv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">skew</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">skew</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">kurt</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">iqr</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">iqr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">mean</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">maxv</span><span class="p">,</span> <span class="n">minv</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">skew</span><span class="p">,</span> <span class="n">kurt</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">iqr</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="fungsi-untuk-menghitung-zero-crossig-rate">
<h2><strong>Fungsi untuk menghitung zero crossig rate</strong><a class="headerlink" href="#fungsi-untuk-menghitung-zero-crossig-rate" title="Permalink to this heading">#</a></h2>
<p>menghitung statistik Zero Crossing Rate (ZCR) dari suatu sinyal audio. Zero Crossing Rate mengukur seberapa sering suara atau sinyal berubah dari positif ke negatif atau sebaliknya dalam suatu periode waktu tertentu. Statistik yang dihitung dalam fungsi ini meliputi rata-rata (mean), median, deviasi standar (standard deviation), kurtosis, dan skewness dari ZCR sinyal audio.<br />
Rumus ZCR yakni : ZCR = (1 / N) * Σ |x[i] - x[i-1]|</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fungsi untuk menghitung statistik ZCR</span>
<span class="k">def</span> <span class="nf">describe_zcr</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">zcr</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">zero_crossing_rate</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">mean_zcr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">zcr</span><span class="p">)</span>
    <span class="n">median_zcr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">zcr</span><span class="p">)</span>
    <span class="n">std_zcr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">zcr</span><span class="p">)</span>
    <span class="n">kurtosis_zcr</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(</span><span class="n">zcr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">skew_zcr</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">skew</span><span class="p">(</span><span class="n">zcr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">mean_zcr</span><span class="p">,</span> <span class="n">median_zcr</span><span class="p">,</span> <span class="n">std_zcr</span><span class="p">,</span> <span class="n">kurtosis_zcr</span><span class="p">,</span> <span class="n">skew_zcr</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="fungsi-untuk-menghitung-rms-root-mean-square-energi-signal">
<h2><strong>Fungsi untuk menghitung RMS (Root Mean Square) energi signal</strong><a class="headerlink" href="#fungsi-untuk-menghitung-rms-root-mean-square-energi-signal" title="Permalink to this heading">#</a></h2>
<p>RMS (Root Mean Square) adalah metrik yang digunakan untuk mengukur besaran magnitude dari sejumlah nilai seperti amplitudo gelombang audio atau sinyal.<br />
Jadi pada kode ini semua elemen sinyal audio dipangkatkan dua, kemudian diambil rata-rata dari hasil tersebut, dan diambil akar kuadratnya. Ini menghasilkan nilai RMS, yang mengukur besarnya amplitudo rata-rata sinyal audio.<br />
Rumus Root Mean Square adalah:</p>
<p>RMS = sqrt((1/n) * Σ(xi^2))</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fungsi untuk menghitung statistik energi RMS</span>
<span class="k">def</span> <span class="nf">describe_energy_rms</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">mean_rms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">median_rms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">skew_rms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">skew</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">kurtosis_rms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">std_rms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">mean_rms</span><span class="p">,</span> <span class="n">median_rms</span><span class="p">,</span> <span class="n">std_rms</span><span class="p">,</span> <span class="n">kurtosis_rms</span><span class="p">,</span> <span class="n">skew_rms</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="ekstraksi-fitur-dari-sejumlah-file-audio-dalam-berbagai-folder">
<h1><strong>Ekstraksi fitur dari sejumlah file audio dalam berbagai folder</strong><a class="headerlink" href="#ekstraksi-fitur-dari-sejumlah-file-audio-dalam-berbagai-folder" title="Permalink to this heading">#</a></h1>
<p>File audio akan dicari statistiknya. Fitur-fitur yang diekstraksi termasuk statistik dari frekuensi, statistik Zero Crossing Rate (ZCR), dan statistik energi Root Mean Square Error (RMSE) dari setiap file audio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Daftar folder yang berisi file-file audio yang akan diolah. Setiap folder mewakili kategori atau label yang berbeda untuk data audio.</span>
<span class="n">folder_paths</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;Orang 2_pleasant_surprise&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 2_happy&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_sad&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_neutral&#39;</span><span class="p">,</span>  <span class="s1">&#39;Orang 2_disgust&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 2_fear&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_pleasant_surprise&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Orang 1_disgust&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_happy&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_fear&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 2_angry&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 2_neutral&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 2_sad&#39;</span><span class="p">,</span> <span class="s1">&#39;Orang 1_angry&#39;</span>
<span class="p">]</span>


<span class="c1"># Inisialisasi list yang akan digunakan untuk menyimpan hasil ekstraksi fitur dari file audio.</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop pertama (Loop ini akan melalui setiap folder dalam folder_paths)</span>
<span class="k">for</span> <span class="n">folder_path</span> <span class="ow">in</span> <span class="n">folder_paths</span><span class="p">:</span>
    <span class="n">audio_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.wav&#39;</span><span class="p">)]</span> <span class="c1"># file audio dalam folder tertentu yang memiliki ekstensi .wav. File audio akan dibaca dan diolah satu per satu.</span>

    <span class="c1"># Loop kedua (Loop ini akan melalui setiap file audio dalam folder yang sedang diproses)</span>
    <span class="k">for</span> <span class="n">audio_file</span> <span class="ow">in</span> <span class="n">audio_files</span><span class="p">:</span>
        <span class="c1"># Membaca file audio (File audio dibaca menggunakan librosa dan disimpan dalam variabel x. Juga, frekuensi sampelnya disimpan dalam variabel sr)</span>
        <span class="n">audio_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">audio_file</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">audio_path</span><span class="p">)</span>

        <span class="c1"># Menghitung statistik audio frekuensi</span>
        <span class="c1"># freqs_x = np.fft.fftfreq(x.size)</span>
        <span class="n">freq_stats_x</span> <span class="o">=</span> <span class="n">describe_freq</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="c1"># Menghitung statistik Zero Crossing Rate</span>
        <span class="n">zcr_stats</span> <span class="o">=</span> <span class="n">describe_zcr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="c1"># Menghitung statistik energi Root Mean Square (RMS)</span>
        <span class="n">energy_rms_stats</span> <span class="o">=</span> <span class="n">describe_energy_rms</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="c1"># Mendefinisikan Label (Label untuk file audio ini diambil dari nama folder yang sesuai)</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">folder_path</span>

        <span class="c1"># Menambahkan hasil statistik ke dalam list</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Audio Mean&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="s1">&#39;Audio Median&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s1">&#39;Audio Mode&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="s1">&#39;Audio Maxv&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="s1">&#39;Audio Minv&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
            <span class="s1">&#39;Audio Std&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
            <span class="s1">&#39;Audio Skew&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
            <span class="s1">&#39;Audio Kurtosis&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
            <span class="s1">&#39;Audio Q1&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
            <span class="s1">&#39;Audio Q3&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
            <span class="s1">&#39;Audio IQR&#39;</span><span class="p">:</span> <span class="n">freq_stats_x</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
            <span class="s1">&#39;ZCR Mean&#39;</span><span class="p">:</span> <span class="n">zcr_stats</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="s1">&#39;ZCR Median&#39;</span><span class="p">:</span> <span class="n">zcr_stats</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s1">&#39;ZCR Std&#39;</span><span class="p">:</span> <span class="n">zcr_stats</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="s1">&#39;ZCR Kurtosis&#39;</span><span class="p">:</span> <span class="n">zcr_stats</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="s1">&#39;ZCR Skew&#39;</span><span class="p">:</span> <span class="n">zcr_stats</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
            <span class="s1">&#39;RMS Energi Mean&#39;</span><span class="p">:</span> <span class="n">energy_rms_stats</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="s1">&#39;RMS Energi Median&#39;</span><span class="p">:</span> <span class="n">energy_rms_stats</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s1">&#39;RMS Energi Std&#39;</span><span class="p">:</span> <span class="n">energy_rms_stats</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="s1">&#39;RMS Energi Kurtosis&#39;</span><span class="p">:</span> <span class="n">energy_rms_stats</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="s1">&#39;RMS Energi Skew&#39;</span><span class="p">:</span> <span class="n">energy_rms_stats</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
            <span class="s1">&#39;Label&#39;</span><span class="p">:</span> <span class="n">label</span>
        <span class="p">}</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="menyimpan-hasil-ekstraksi-fitur-ke-dalam-csv">
<h1><strong>Menyimpan hasil ekstraksi fitur ke dalam csv</strong><a class="headerlink" href="#menyimpan-hasil-ekstraksi-fitur-ke-dalam-csv" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Buat DataFrame dari hasil statistik</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Simpan DataFrame ke dalam file CSV</span>
<span class="n">file_statitstik</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hasil_statistik2.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="menampilkan-data-csv">
<h1><strong>Menampilkan data CSV</strong><a class="headerlink" href="#menampilkan-data-csv" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-02b2b652-b0f5-4bc2-9086-081f59fa9dc4" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Audio Mean</th>
      <th>Audio Median</th>
      <th>Audio Mode</th>
      <th>Audio Maxv</th>
      <th>Audio Minv</th>
      <th>Audio Std</th>
      <th>Audio Skew</th>
      <th>Audio Kurtosis</th>
      <th>Audio Q1</th>
      <th>Audio Q3</th>
      <th>...</th>
      <th>ZCR Median</th>
      <th>ZCR Std</th>
      <th>ZCR Kurtosis</th>
      <th>ZCR Skew</th>
      <th>RMS Energi Mean</th>
      <th>RMS Energi Median</th>
      <th>RMS Energi Std</th>
      <th>RMS Energi Kurtosis</th>
      <th>RMS Energi Skew</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.000046</td>
      <td>0.000201</td>
      <td>-0.013377</td>
      <td>0.199650</td>
      <td>-0.205005</td>
      <td>0.029604</td>
      <td>-0.119352</td>
      <td>5.005181</td>
      <td>-0.011784</td>
      <td>0.011482</td>
      <td>...</td>
      <td>0.098389</td>
      <td>0.223898</td>
      <td>1.609658</td>
      <td>1.699007</td>
      <td>0.000149</td>
      <td>0.000058</td>
      <td>0.000242</td>
      <td>0.044044</td>
      <td>0.013404</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.000049</td>
      <td>0.000410</td>
      <td>-0.071986</td>
      <td>0.174206</td>
      <td>-0.193903</td>
      <td>0.037168</td>
      <td>-0.173890</td>
      <td>2.929447</td>
      <td>-0.014112</td>
      <td>0.015798</td>
      <td>...</td>
      <td>0.102295</td>
      <td>0.212312</td>
      <td>1.562230</td>
      <td>1.636626</td>
      <td>0.000184</td>
      <td>0.000074</td>
      <td>0.000275</td>
      <td>0.024870</td>
      <td>0.010385</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.000020</td>
      <td>-0.000190</td>
      <td>-0.017790</td>
      <td>0.284378</td>
      <td>-0.231046</td>
      <td>0.041332</td>
      <td>0.292197</td>
      <td>5.688801</td>
      <td>-0.013858</td>
      <td>0.010074</td>
      <td>...</td>
      <td>0.081543</td>
      <td>0.213992</td>
      <td>3.619491</td>
      <td>2.209202</td>
      <td>0.000185</td>
      <td>0.000056</td>
      <td>0.000309</td>
      <td>0.031588</td>
      <td>0.010828</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.000023</td>
      <td>-0.000101</td>
      <td>-0.131112</td>
      <td>0.259005</td>
      <td>-0.202766</td>
      <td>0.046236</td>
      <td>0.413269</td>
      <td>3.771249</td>
      <td>-0.013435</td>
      <td>0.011271</td>
      <td>...</td>
      <td>0.111816</td>
      <td>0.210906</td>
      <td>3.029781</td>
      <td>2.078468</td>
      <td>0.000209</td>
      <td>0.000057</td>
      <td>0.000325</td>
      <td>0.022939</td>
      <td>0.009429</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.000042</td>
      <td>0.000164</td>
      <td>-0.036222</td>
      <td>0.234862</td>
      <td>-0.213870</td>
      <td>0.036638</td>
      <td>0.076143</td>
      <td>4.718775</td>
      <td>-0.012012</td>
      <td>0.011886</td>
      <td>...</td>
      <td>0.095703</td>
      <td>0.223349</td>
      <td>2.687882</td>
      <td>2.017582</td>
      <td>0.000182</td>
      <td>0.000059</td>
      <td>0.000293</td>
      <td>0.033031</td>
      <td>0.011751</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2795</th>
      <td>0.000153</td>
      <td>-0.000771</td>
      <td>-0.046064</td>
      <td>0.247951</td>
      <td>-0.260921</td>
      <td>0.049737</td>
      <td>-0.024760</td>
      <td>3.389052</td>
      <td>-0.013146</td>
      <td>0.013442</td>
      <td>...</td>
      <td>0.055420</td>
      <td>0.088571</td>
      <td>4.139827</td>
      <td>2.164058</td>
      <td>0.000281</td>
      <td>0.000075</td>
      <td>0.000427</td>
      <td>0.025640</td>
      <td>0.011307</td>
      <td>Orang 1_angry</td>
    </tr>
    <tr>
      <th>2796</th>
      <td>-0.000010</td>
      <td>-0.000300</td>
      <td>-0.039749</td>
      <td>0.262819</td>
      <td>-0.249466</td>
      <td>0.041748</td>
      <td>0.041511</td>
      <td>5.171020</td>
      <td>-0.011494</td>
      <td>0.012832</td>
      <td>...</td>
      <td>0.060059</td>
      <td>0.118703</td>
      <td>3.370580</td>
      <td>2.012270</td>
      <td>0.000226</td>
      <td>0.000065</td>
      <td>0.000370</td>
      <td>0.034970</td>
      <td>0.012768</td>
      <td>Orang 1_angry</td>
    </tr>
    <tr>
      <th>2797</th>
      <td>-0.000097</td>
      <td>-0.000367</td>
      <td>-0.038133</td>
      <td>0.279945</td>
      <td>-0.249809</td>
      <td>0.056364</td>
      <td>0.118050</td>
      <td>3.098673</td>
      <td>-0.013722</td>
      <td>0.014423</td>
      <td>...</td>
      <td>0.054443</td>
      <td>0.112813</td>
      <td>3.240120</td>
      <td>1.992513</td>
      <td>0.000296</td>
      <td>0.000074</td>
      <td>0.000444</td>
      <td>0.021302</td>
      <td>0.010032</td>
      <td>Orang 1_angry</td>
    </tr>
    <tr>
      <th>2798</th>
      <td>-0.000041</td>
      <td>0.000115</td>
      <td>-0.088468</td>
      <td>0.255944</td>
      <td>-0.269486</td>
      <td>0.041024</td>
      <td>-0.018905</td>
      <td>7.120251</td>
      <td>-0.008630</td>
      <td>0.009383</td>
      <td>...</td>
      <td>0.084473</td>
      <td>0.095373</td>
      <td>1.956955</td>
      <td>1.531248</td>
      <td>0.000213</td>
      <td>0.000047</td>
      <td>0.000370</td>
      <td>0.033465</td>
      <td>0.012284</td>
      <td>Orang 1_angry</td>
    </tr>
    <tr>
      <th>2799</th>
      <td>-0.000069</td>
      <td>-0.000071</td>
      <td>-0.151160</td>
      <td>0.312445</td>
      <td>-0.326503</td>
      <td>0.063554</td>
      <td>-0.155443</td>
      <td>3.736841</td>
      <td>-0.015846</td>
      <td>0.017564</td>
      <td>...</td>
      <td>0.049805</td>
      <td>0.102855</td>
      <td>5.849946</td>
      <td>2.578420</td>
      <td>0.000334</td>
      <td>0.000088</td>
      <td>0.000518</td>
      <td>0.025042</td>
      <td>0.010763</td>
      <td>Orang 1_angry</td>
    </tr>
  </tbody>
</table>
<p>2800 rows × 22 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-02b2b652-b0f5-4bc2-9086-081f59fa9dc4')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-02b2b652-b0f5-4bc2-9086-081f59fa9dc4 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-02b2b652-b0f5-4bc2-9086-081f59fa9dc4');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-75c00e33-bdaf-4b30-bdfe-7989ce18b2fc">
  <button class="colab-df-quickchart" onclick="quickchart('df-75c00e33-bdaf-4b30-bdfe-7989ce18b2fc')"
            title="Suggest charts."
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-75c00e33-bdaf-4b30-bdfe-7989ce18b2fc button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>
    </div>
  </div>
</div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="normalisasi-data">
<h1><strong>Normalisasi Data</strong><a class="headerlink" href="#normalisasi-data" title="Permalink to this heading">#</a></h1>
<section id="melihat-mean-dan-standar-devisiasi-setiap-kolom">
<h2>Melihat mean dan standar devisiasi setiap kolom<a class="headerlink" href="#melihat-mean-dan-standar-devisiasi-setiap-kolom" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menghitung mean dan standar deviasi setiap kolom</span>
<span class="n">cekmean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">cekstd_deviation</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="c1"># Menampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cekmean</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Standar Deviasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cekstd_deviation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean:
Audio Mean            -0.000015
Audio Median           0.000538
Audio Mode            -0.048706
Audio Maxv             0.210145
Audio Minv            -0.232112
Audio Std              0.037943
Audio Skew            -0.324488
Audio Kurtosis         4.335692
Audio Q1              -0.010863
Audio Q3               0.013535
Audio IQR              0.024397
ZCR Mean               0.145877
ZCR Median             0.067428
ZCR Std                0.180969
ZCR Kurtosis           2.823296
ZCR Skew               1.969139
RMS Energi Mean        0.000183
RMS Energi Median      0.000060
RMS Energi Std         0.000291
RMS Energi Kurtosis    0.029415
RMS Energi Skew        0.010698
dtype: float64

Standar Deviasi:
Audio Mean             0.000053
Audio Median           0.000724
Audio Mode             0.048546
Audio Maxv             0.163219
Audio Minv             0.171694
Audio Std              0.023685
Audio Skew             0.436796
Audio Kurtosis         3.588586
Audio Q1               0.005547
Audio Q3               0.007443
Audio IQR              0.012682
ZCR Mean               0.053839
ZCR Median             0.032523
ZCR Std                0.047073
ZCR Kurtosis           1.997088
ZCR Skew               0.492688
RMS Energi Mean        0.000120
RMS Energi Median      0.000033
RMS Energi Std         0.000202
RMS Energi Kurtosis    0.010986
RMS Energi Skew        0.001899
dtype: float64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-10-79b0125830d8&gt;:2: FutureWarning: The default value of numeric_only in DataFrame.mean is deprecated. In a future version, it will default to False. In addition, specifying &#39;numeric_only=None&#39; is deprecated. Select only valid columns or specify the value of numeric_only to silence this warning.
  cekmean = df.mean()
&lt;ipython-input-10-79b0125830d8&gt;:3: FutureWarning: The default value of numeric_only in DataFrame.std is deprecated. In a future version, it will default to False. In addition, specifying &#39;numeric_only=None&#39; is deprecated. Select only valid columns or specify the value of numeric_only to silence this warning.
  cekstd_deviation = df.std()
</pre></div>
</div>
</div>
</div>
</section>
<section id="normalisasi-data-zscore">
<h2><strong>Normalisasi Data Zscore</strong><a class="headerlink" href="#normalisasi-data-zscore" title="Permalink to this heading">#</a></h2>
<p>Normalisasi Z-score adalah suatu metode statistik yang digunakan untuk mengubah dan mengukur seberapa jauh sebuah titik data dari rata-rata (mean) dalam satu set data tertentu, dalam satuan standar deviasi (standard deviation) dari data tersebut. Tujuan normalisasi Z-score adalah untuk mengubah distribusi data menjadi distribusi dengan rata-rata 0 dan standar deviasi 1.<br />
Rumus normalisasi Z-score :<br />
z = (x-μ)/σ</p>
<ul class="simple">
<li><p>Z adalah nilai Z-score yang telah dinormalisasi.</p></li>
<li><p>x adalah nilai titik data yang ingin dinormalisasi.</p></li>
<li><p>μ (mu) adalah rata-rata (mean) dari seluruh data dalam distribusi.</p></li>
<li><p>σ (sigma) adalah standar deviasi dari seluruh data dalam distribusi.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">import</span> <span class="nn">joblib</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Membaca data dari file CSV</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hasil_statistik2.csv&#39;</span><span class="p">)</span>

<span class="c1"># Memisahkan kolom target (label) dari kolom fitur</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">])</span>  <span class="c1"># Kolom fitur</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span>  <span class="c1"># Kolom target</span>

<span class="c1"># Membagi data menjadi data training dan data testing</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Normalisasi Z-score pada data training</span>
<span class="n">zscore_scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train_zscore</span> <span class="o">=</span> <span class="n">zscore_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>


<span class="c1"># Simpan hasil normalisasi data training ke dalam file pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;zscore_scaler.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scaler_file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">X_train_zscore</span><span class="p">,</span> <span class="n">scaler_file</span><span class="p">)</span>

<span class="c1"># Membuat DataFrame dari data hasil normalisasi Z-score</span>
<span class="n">normalized_data_zscore</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train_zscore</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Menambahkan kolom target (label) ke DataFrame hasil normalisasi Z-score</span>
<span class="n">normalized_data_zscore</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_train</span>

<span class="c1"># Menampilkan data hasil normalisasi Z-score</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data Hasil Normalisasi Z-score:&quot;</span><span class="p">)</span>
<span class="n">normalized_data_zscore</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data Hasil Normalisasi Z-score:
</pre></div>
</div>
<div class="output text_html">
  <div id="df-7fd46d06-000f-4255-a5df-8e8876b94631" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Audio Mean</th>
      <th>Audio Median</th>
      <th>Audio Mode</th>
      <th>Audio Maxv</th>
      <th>Audio Minv</th>
      <th>Audio Std</th>
      <th>Audio Skew</th>
      <th>Audio Kurtosis</th>
      <th>Audio Q1</th>
      <th>Audio Q3</th>
      <th>...</th>
      <th>ZCR Median</th>
      <th>ZCR Std</th>
      <th>ZCR Kurtosis</th>
      <th>ZCR Skew</th>
      <th>RMS Energi Mean</th>
      <th>RMS Energi Median</th>
      <th>RMS Energi Std</th>
      <th>RMS Energi Kurtosis</th>
      <th>RMS Energi Skew</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.420108</td>
      <td>0.054481</td>
      <td>0.692683</td>
      <td>-0.995221</td>
      <td>1.036450</td>
      <td>-1.109401</td>
      <td>0.203627</td>
      <td>-0.897438</td>
      <td>1.032997</td>
      <td>-1.031015</td>
      <td>...</td>
      <td>-0.999644</td>
      <td>-0.732594</td>
      <td>0.092192</td>
      <td>0.227160</td>
      <td>-1.115070</td>
      <td>-1.080961</td>
      <td>-1.112078</td>
      <td>-1.221018</td>
      <td>-1.632746</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.057859</td>
      <td>-0.950448</td>
      <td>0.195845</td>
      <td>0.071285</td>
      <td>-0.150218</td>
      <td>-0.174776</td>
      <td>1.752188</td>
      <td>0.715313</td>
      <td>0.580247</td>
      <td>-1.073160</td>
      <td>...</td>
      <td>0.818656</td>
      <td>0.892598</td>
      <td>-0.610861</td>
      <td>-0.624582</td>
      <td>-0.310425</td>
      <td>-0.907288</td>
      <td>-0.204275</td>
      <td>0.124225</td>
      <td>-0.053003</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.617510</td>
      <td>-0.542652</td>
      <td>0.706021</td>
      <td>0.389313</td>
      <td>-0.172899</td>
      <td>0.215704</td>
      <td>0.851265</td>
      <td>0.177375</td>
      <td>0.179962</td>
      <td>-0.449226</td>
      <td>...</td>
      <td>1.112903</td>
      <td>0.951946</td>
      <td>-1.151458</td>
      <td>-1.379028</td>
      <td>0.224335</td>
      <td>-0.316233</td>
      <td>0.244509</td>
      <td>0.268440</td>
      <td>0.433589</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.350564</td>
      <td>0.040184</td>
      <td>0.532194</td>
      <td>-0.696983</td>
      <td>0.681671</td>
      <td>-0.720500</td>
      <td>-0.763696</td>
      <td>-0.393193</td>
      <td>0.606208</td>
      <td>-0.427797</td>
      <td>...</td>
      <td>-0.826113</td>
      <td>-0.524064</td>
      <td>0.254987</td>
      <td>0.504670</td>
      <td>-0.679175</td>
      <td>-0.473591</td>
      <td>-0.689001</td>
      <td>-0.053295</td>
      <td>0.108749</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.589496</td>
      <td>-0.020105</td>
      <td>0.158169</td>
      <td>-0.424794</td>
      <td>0.274301</td>
      <td>-0.559227</td>
      <td>-0.847941</td>
      <td>0.494690</td>
      <td>0.518921</td>
      <td>-0.548624</td>
      <td>...</td>
      <td>-0.690306</td>
      <td>-0.401753</td>
      <td>-0.783577</td>
      <td>-0.686314</td>
      <td>-0.617699</td>
      <td>-0.604084</td>
      <td>-0.537838</td>
      <td>0.497386</td>
      <td>0.351270</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2235</th>
      <td>0.321962</td>
      <td>-0.111267</td>
      <td>0.367306</td>
      <td>-0.818607</td>
      <td>0.716128</td>
      <td>-0.790571</td>
      <td>-1.190668</td>
      <td>-0.336104</td>
      <td>0.994825</td>
      <td>-0.659096</td>
      <td>...</td>
      <td>-0.086722</td>
      <td>0.273158</td>
      <td>-1.691273</td>
      <td>-1.925812</td>
      <td>-0.772245</td>
      <td>-0.785112</td>
      <td>-0.766258</td>
      <td>-0.305036</td>
      <td>-0.248503</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2236</th>
      <td>-0.910432</td>
      <td>-0.464837</td>
      <td>1.151230</td>
      <td>1.153844</td>
      <td>-1.409539</td>
      <td>1.157239</td>
      <td>-0.620844</td>
      <td>0.845902</td>
      <td>-0.921873</td>
      <td>0.756414</td>
      <td>...</td>
      <td>2.599231</td>
      <td>0.613101</td>
      <td>-1.258888</td>
      <td>-1.631203</td>
      <td>1.168366</td>
      <td>0.837414</td>
      <td>1.340336</td>
      <td>0.912417</td>
      <td>1.194913</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2237</th>
      <td>0.117973</td>
      <td>-0.305453</td>
      <td>-0.115825</td>
      <td>1.618567</td>
      <td>-1.147424</td>
      <td>1.200494</td>
      <td>-0.204795</td>
      <td>0.345036</td>
      <td>-0.910279</td>
      <td>0.890562</td>
      <td>...</td>
      <td>1.188352</td>
      <td>0.091066</td>
      <td>0.243999</td>
      <td>0.038697</td>
      <td>1.315873</td>
      <td>1.002895</td>
      <td>1.351372</td>
      <td>0.503788</td>
      <td>0.824515</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2238</th>
      <td>0.588100</td>
      <td>-0.251576</td>
      <td>-0.429990</td>
      <td>-0.273974</td>
      <td>0.155012</td>
      <td>-0.427308</td>
      <td>-1.092135</td>
      <td>-0.014183</td>
      <td>0.311806</td>
      <td>0.120695</td>
      <td>...</td>
      <td>-0.531865</td>
      <td>-0.459613</td>
      <td>0.215152</td>
      <td>0.380872</td>
      <td>-0.366512</td>
      <td>0.001950</td>
      <td>-0.352241</td>
      <td>1.099265</td>
      <td>1.214962</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2239</th>
      <td>-0.064253</td>
      <td>-2.196445</td>
      <td>0.311836</td>
      <td>0.152517</td>
      <td>0.439853</td>
      <td>-0.481289</td>
      <td>3.199681</td>
      <td>0.720377</td>
      <td>0.062934</td>
      <td>-0.765272</td>
      <td>...</td>
      <td>0.275429</td>
      <td>2.094695</td>
      <td>-1.788514</td>
      <td>-1.955576</td>
      <td>-0.561668</td>
      <td>-0.561725</td>
      <td>-0.460644</td>
      <td>1.113238</td>
      <td>0.694702</td>
      <td>Orang 2_neutral</td>
    </tr>
  </tbody>
</table>
<p>2240 rows × 22 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-7fd46d06-000f-4255-a5df-8e8876b94631')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-7fd46d06-000f-4255-a5df-8e8876b94631 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-7fd46d06-000f-4255-a5df-8e8876b94631');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-b985a260-94c8-473c-8a8e-a69b137bb9e8">
  <button class="colab-df-quickchart" onclick="quickchart('df-b985a260-94c8-473c-8a8e-a69b137bb9e8')"
            title="Suggest charts."
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-b985a260-94c8-473c-8a8e-a69b137bb9e8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>
    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menyimpan data hasil normalisasi Z-score ke dalam file CSV</span>
<span class="n">normzscore</span> <span class="o">=</span> <span class="n">normalized_data_zscore</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hasil_normalisasi_zscore.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="zscore-knn-tanpa-reduksi">
<h2>Zscore+KNN Tanpa Reduksi<a class="headerlink" href="#zscore-knn-tanpa-reduksi" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># membuka data hasil normalisasi</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;zscore_scaler.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scaler_file</span><span class="p">:</span>
    <span class="n">normalisasizscore</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">scaler_file</span><span class="p">)</span>

<span class="c1"># Membuat daftar nilai k dari 1 hingga 50</span>
<span class="n">k_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>

<span class="c1"># Membuat dictionary untuk menyimpan akurasi untuk setiap nilai k</span>
<span class="n">accuracy_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Melakukan loop untuk mencoba setiap nilai k</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_values</span><span class="p">:</span>
    <span class="c1"># Mendefinisikan dan melatih model KNN</span>
    <span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">normalisasizscore</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

    <span class="c1"># Normalisasi Z-score pada data testing</span>
    <span class="n">X_test_zscore</span> <span class="o">=</span> <span class="n">zscore_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="c1"># Melakukan prediksi pada data testing yang telah dinormalisasi</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_zscore</span><span class="p">)</span>

    <span class="c1"># Mengukur akurasi model</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

    <span class="c1"># Menyimpan akurasi dalam dictionary</span>
    <span class="n">accuracy_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">accuracy</span>

<span class="c1"># Menampilkan akurasi untuk setiap nilai k</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">accuracy</span> <span class="ow">in</span> <span class="n">accuracy_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi Model dengan k=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Mencari nilai k terbaik</span>
<span class="n">best_k</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">accuracy_dict</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">accuracy_dict</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
<span class="n">best_accuracy_knnbiasa</span> <span class="o">=</span> <span class="n">accuracy_dict</span><span class="p">[</span><span class="n">best_k</span><span class="p">]</span> <span class="o">*</span><span class="mi">100</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jadi nilai akurasi terbaik yakni ada pada K </span><span class="si">{</span><span class="n">best_k</span><span class="si">}</span><span class="s2"> dengan akurasi sebesar </span><span class="si">{</span><span class="n">best_accuracy_knnbiasa</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="c1"># Simpan model KNN dan hasil akurasi terbaik ke dalam file pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;zscore knn model.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">((</span><span class="n">knn_model</span><span class="p">,</span> <span class="n">best_k</span><span class="p">),</span> <span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi Model dengan k=1: 0.7732
Akurasi Model dengan k=2: 0.7214
Akurasi Model dengan k=3: 0.7679
Akurasi Model dengan k=4: 0.7750
Akurasi Model dengan k=5: 0.7714
Akurasi Model dengan k=6: 0.7768
Akurasi Model dengan k=7: 0.7893
Akurasi Model dengan k=8: 0.7786
Akurasi Model dengan k=9: 0.7696
Akurasi Model dengan k=10: 0.7732
Akurasi Model dengan k=11: 0.7768
Akurasi Model dengan k=12: 0.7821
Akurasi Model dengan k=13: 0.7893
Akurasi Model dengan k=14: 0.7893
Akurasi Model dengan k=15: 0.7964
Akurasi Model dengan k=16: 0.7839
Akurasi Model dengan k=17: 0.7857
Akurasi Model dengan k=18: 0.7821
Akurasi Model dengan k=19: 0.7750
Akurasi Model dengan k=20: 0.7821
Akurasi Model dengan k=21: 0.7750
Akurasi Model dengan k=22: 0.7696
Akurasi Model dengan k=23: 0.7661
Akurasi Model dengan k=24: 0.7714
Akurasi Model dengan k=25: 0.7661
Akurasi Model dengan k=26: 0.7714
Akurasi Model dengan k=27: 0.7768
Akurasi Model dengan k=28: 0.7732
Akurasi Model dengan k=29: 0.7607
Akurasi Model dengan k=30: 0.7589
Akurasi Model dengan k=31: 0.7536
Akurasi Model dengan k=32: 0.7571
Akurasi Model dengan k=33: 0.7625
Akurasi Model dengan k=34: 0.7714
Akurasi Model dengan k=35: 0.7696
Akurasi Model dengan k=36: 0.7732
Akurasi Model dengan k=37: 0.7696
Akurasi Model dengan k=38: 0.7696
Akurasi Model dengan k=39: 0.7732
Akurasi Model dengan k=40: 0.7714
Akurasi Model dengan k=41: 0.7750
Akurasi Model dengan k=42: 0.7768
Akurasi Model dengan k=43: 0.7714
Akurasi Model dengan k=44: 0.7643
Akurasi Model dengan k=45: 0.7643
Akurasi Model dengan k=46: 0.7607
Akurasi Model dengan k=47: 0.7607
Akurasi Model dengan k=48: 0.7607
Akurasi Model dengan k=49: 0.7625
Akurasi Model dengan k=50: 0.7661

Jadi nilai akurasi terbaik yakni ada pada K 15 dengan akurasi sebesar 79.64%
</pre></div>
</div>
</div>
</div>
</section>
<section id="prediksi-knn">
<h2>Prediksi KNN<a class="headerlink" href="#prediksi-knn" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load data tes prediksi memakai suara mubes</span>
<span class="n">df_tes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tes suara prediksi.csv&#39;</span><span class="p">)</span>
<span class="n">df_tes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-e1b8d550-3b3c-4f1e-8c05-be1bfd338066" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Audio Mean</th>
      <th>Audio Median</th>
      <th>Audio Mode</th>
      <th>Audio Maxv</th>
      <th>Audio Minv</th>
      <th>Audio Std</th>
      <th>Audio Skew</th>
      <th>Audio Kurtosis</th>
      <th>Audio Q1</th>
      <th>Audio Q3</th>
      <th>...</th>
      <th>ZCR Median</th>
      <th>ZCR Std</th>
      <th>ZCR Kurtosis</th>
      <th>ZCR Skew</th>
      <th>RMS Energi Mean</th>
      <th>RMS Energi Median</th>
      <th>RMS Energi Std</th>
      <th>RMS Energi Kurtosis</th>
      <th>RMS Energi Skew</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.000007</td>
      <td>-0.00096</td>
      <td>-0.10141</td>
      <td>0.40527</td>
      <td>-0.238503</td>
      <td>0.071989</td>
      <td>1.190213</td>
      <td>3.795624</td>
      <td>-0.033727</td>
      <td>0.013462</td>
      <td>...</td>
      <td>0.039551</td>
      <td>0.102754</td>
      <td>6.855275</td>
      <td>2.712728</td>
      <td>0.0003</td>
      <td>0.000103</td>
      <td>0.000465</td>
      <td>0.022387</td>
      <td>0.009064</td>
      <td>tes suara mubes</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 22 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e1b8d550-3b3c-4f1e-8c05-be1bfd338066')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e1b8d550-3b3c-4f1e-8c05-be1bfd338066 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e1b8d550-3b3c-4f1e-8c05-be1bfd338066');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load model KNN dari file pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;zscore knn model.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">knn_model</span><span class="p">,</span> <span class="n">best_k</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="c1"># load data CSV</span>
<span class="n">df_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tes suara prediksi.csv&#39;</span><span class="p">)</span>

<span class="c1"># Hapus kolom label untuk membuat data yang akan dijadikan input prediksi</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">df_new</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">])</span>

<span class="c1"># prediksi</span>
<span class="n">y_pred_new</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">best_k</span><span class="p">)</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>

<span class="c1"># hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil Prediksi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred_new</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hasil Prediksi:
[&#39;Orang 1_angry&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/sklearn/base.py:432: UserWarning: X has feature names, but KNeighborsClassifier was fitted without feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="reduksi-data-zscore-knn-dengan-pca">
<h2>Reduksi Data (Zscore+KNN dengan PCA)<a class="headerlink" href="#reduksi-data-zscore-knn-dengan-pca" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>

<span class="c1"># Melakukan PCA dengan nilai n_components dari 20 sampai 1</span>
<span class="n">best_n_components</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">best_k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">best_accuracy_knn_pca</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">n_components</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">)</span>
    <span class="n">X_train_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalisasizscore</span><span class="p">)</span>
    <span class="n">X_test_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test_zscore</span><span class="p">)</span>

    <span class="c1"># Membuat daftar nilai k dari 1 hingga 50</span>
    <span class="n">k_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>

    <span class="c1"># Membuat variabel untuk menyimpan akurasi terbaik dan nilai k terbaik untuk n_components saat ini</span>
    <span class="n">local_best_accuracy</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">local_best_k</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Melakukan loop untuk mencoba setiap nilai k</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_values</span><span class="p">:</span>
        <span class="c1"># Mendefinisikan dan melatih model KNN</span>
        <span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_pca</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  <span class="c1"># Menggunakan data yang telah direduksi oleh PCA</span>

        <span class="c1"># Melakukan prediksi pada data testing yang telah direduksi oleh PCA</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_pca</span><span class="p">)</span>

        <span class="c1"># Mengukur akurasi model</span>
        <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

        <span class="c1"># Memperbarui nilai k terbaik jika ditemukan akurasi yang lebih tinggi</span>
        <span class="k">if</span> <span class="n">accuracy</span> <span class="o">&gt;</span> <span class="n">local_best_accuracy</span><span class="p">:</span>
            <span class="n">local_best_accuracy</span> <span class="o">=</span> <span class="n">accuracy</span>
            <span class="n">local_best_k</span> <span class="o">=</span> <span class="n">k</span>

    <span class="c1"># Menampilkan hasil terbaik untuk setiap n_components</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Untuk n_components = </span><span class="si">{</span><span class="n">n_components</span><span class="si">}</span><span class="s2">, K terbaik adalah </span><span class="si">{</span><span class="n">local_best_k</span><span class="si">}</span><span class="s2"> dengan akurasi </span><span class="si">{</span><span class="n">local_best_accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Memperbarui nilai n_components terbaik jika ditemukan akurasi yang lebih tinggi</span>
    <span class="k">if</span> <span class="n">local_best_accuracy</span> <span class="o">&gt;</span> <span class="n">best_accuracy_knn_pca</span><span class="p">:</span>
        <span class="n">best_accuracy_knn_pca</span> <span class="o">=</span> <span class="n">local_best_accuracy</span>
        <span class="n">best_k</span> <span class="o">=</span> <span class="n">local_best_k</span>
        <span class="n">best_n_components</span> <span class="o">=</span> <span class="n">n_components</span>

<span class="c1"># Menampilkan hasil terbaik secara keseluruhan</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jadi nilai akurasi terbaik ada pada n_components </span><span class="si">{</span><span class="n">best_n_components</span><span class="si">}</span><span class="s2">, dengan nilai K </span><span class="si">{</span><span class="n">best_k</span><span class="si">}</span><span class="s2"> dan hasil akurasi sebesar </span><span class="si">{</span><span class="n">best_accuracy_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Untuk n_components = 20, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 19, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 18, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 17, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 16, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 15, K terbaik adalah 15 dengan akurasi 0.7982
Untuk n_components = 14, K terbaik adalah 15 dengan akurasi 0.8000
Untuk n_components = 13, K terbaik adalah 15 dengan akurasi 0.7964
Untuk n_components = 12, K terbaik adalah 13 dengan akurasi 0.7893
Untuk n_components = 11, K terbaik adalah 17 dengan akurasi 0.7839
Untuk n_components = 10, K terbaik adalah 8 dengan akurasi 0.7750
Untuk n_components = 9, K terbaik adalah 12 dengan akurasi 0.7661
Untuk n_components = 8, K terbaik adalah 9 dengan akurasi 0.7554
Untuk n_components = 7, K terbaik adalah 21 dengan akurasi 0.7107
Untuk n_components = 6, K terbaik adalah 27 dengan akurasi 0.6768
Untuk n_components = 5, K terbaik adalah 15 dengan akurasi 0.6750
Untuk n_components = 4, K terbaik adalah 15 dengan akurasi 0.6500
Untuk n_components = 3, K terbaik adalah 31 dengan akurasi 0.6018
Untuk n_components = 2, K terbaik adalah 15 dengan akurasi 0.4607
Untuk n_components = 1, K terbaik adalah 50 dengan akurasi 0.3500

Jadi nilai akurasi terbaik ada pada n_components 14, dengan nilai K 15 dan hasil akurasi sebesar 80.00%
</pre></div>
</div>
</div>
</div>
</section>
<section id="zscore-knn-dengan-grid-search-pca">
<h2>Zscore+KNN dengan Grid Search PCA<a class="headerlink" href="#zscore-knn-dengan-grid-search-pca" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Mendefinisikan parameter yang ingin diuji</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_neighbors&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">)),</span>
    <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">],</span>
    <span class="s1">&#39;metric&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;euclidean&#39;</span><span class="p">,</span> <span class="s1">&#39;manhattan&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Mendefinisikan model KNN</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">()</span>

<span class="c1"># Mendefinisikan Grid Search dengan model KNN dan parameter yang diuji</span>
<span class="n">grid_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">knn</span><span class="p">,</span> <span class="n">param_grid</span><span class="o">=</span><span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)</span>
<span class="n">grid_search</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  <span class="c1"># Menggunakan X_train tanpa PCA</span>

<span class="c1"># Menampilkan parameter terbaik</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parameter terbaik :&quot;</span><span class="p">,</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>

<span class="c1"># Menggunakan PCA dengan komponen utama terbaik</span>
<span class="n">best_n_neighbors</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;n_neighbors&#39;</span><span class="p">]</span>
<span class="n">best_weights</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;weights&#39;</span><span class="p">]</span>
<span class="n">best_metric</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;metric&#39;</span><span class="p">]</span>

<span class="c1"># Menghitung PCA dengan jumlah komponen sesuai jumlah fitur</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">X_train_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalisasizscore</span><span class="p">)</span>
<span class="n">X_test_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test_zscore</span><span class="p">)</span>

<span class="c1"># Membuat model KNN dengan hyperparameter terbaik</span>
<span class="n">best_knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">best_n_neighbors</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">best_weights</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">best_metric</span><span class="p">)</span>
<span class="n">best_knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_pca</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Membuat prediksi menggunakan model terbaik</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">best_knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_pca</span><span class="p">)</span>

<span class="c1"># Mengukur akurasi model terbaik pada data testing</span>
<span class="n">grid_knn_pca</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi Reduksi Data Zscore + KNN setelah Grid Search: </span><span class="si">{</span><span class="n">grid_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parameter terbaik : {&#39;metric&#39;: &#39;manhattan&#39;, &#39;n_neighbors&#39;: 9, &#39;weights&#39;: &#39;distance&#39;}
Akurasi Reduksi Data Zscore + KNN setelah Grid Search: 81.25%
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from sklearn.model_selection import GridSearchCV</span>
<span class="c1"># from sklearn.decomposition import PCA</span>
<span class="c1"># from sklearn.neighbors import KNeighborsClassifier</span>
<span class="c1"># from sklearn.metrics import accuracy_score</span>
<span class="c1"># import pandas as pd</span>
<span class="c1"># from sklearn.model_selection import train_test_split</span>

<span class="c1"># # Mendefinisikan parameter yang ingin diuji</span>
<span class="c1"># param_grid = {</span>
<span class="c1">#     &#39;n_neighbors&#39;: list(range(1, 51)),</span>
<span class="c1">#     &#39;weights&#39;: [&#39;uniform&#39;, &#39;distance&#39;],</span>
<span class="c1">#     &#39;metric&#39;: [&#39;euclidean&#39;, &#39;manhattan&#39;]</span>
<span class="c1"># }</span>

<span class="c1"># # Mendefinisikan model KNN</span>
<span class="c1"># knn = KNeighborsClassifier()</span>

<span class="c1"># # Mendefinisikan Grid Search dengan model KNN dan parameter yang diuji</span>
<span class="c1"># grid_search = GridSearchCV(estimator=knn, param_grid=param_grid, cv=5, scoring=&#39;accuracy&#39;)</span>
<span class="c1"># grid_search.fit(X_train, y_train)  # Menggunakan X_train tanpa PCA</span>

<span class="c1"># # Menampilkan parameter terbaik</span>
<span class="c1"># print(&quot;Parameter terbaik :&quot;, grid_search.best_params_)</span>

<span class="c1"># # Menggunakan PCA dengan komponen utama terbaik</span>
<span class="c1"># best_n_neighbors = grid_search.best_params_[&#39;n_neighbors&#39;]</span>
<span class="c1"># best_weights = grid_search.best_params_[&#39;weights&#39;]</span>
<span class="c1"># best_metric = grid_search.best_params_[&#39;metric&#39;]</span>

<span class="c1"># accuracy_dict = {}</span>
<span class="c1"># for n_components in range(20, 0, -1):</span>
<span class="c1">#     pca = PCA(n_components=n_components)</span>
<span class="c1">#     X_train_pca = pca.fit_transform(normalisasizscore)</span>
<span class="c1">#     X_test_pca = pca.transform(X_test_zscore)</span>

<span class="c1">#     # Membuat model KNN dengan hyperparameter terbaik</span>
<span class="c1">#     best_knn_model = KNeighborsClassifier(n_neighbors=best_n_neighbors, weights=best_weights, metric=best_metric)</span>
<span class="c1">#     best_knn_model.fit(X_train_pca, y_train)</span>

<span class="c1">#     # Membuat prediksi menggunakan model terbaik</span>
<span class="c1">#     y_pred = best_knn_model.predict(X_test_pca)</span>

<span class="c1">#     # Mengukur akurasi model terbaik pada data testing</span>
<span class="c1">#     grid_knn_pca = accuracy_score(y_test, y_pred)</span>

<span class="c1">#     # Menyimpan akurasi dalam dictionary</span>
<span class="c1">#     accuracy_dict[n_components] = grid_knn_pca</span>

<span class="c1">#     print(f&quot;Akurasi Reduksi Data Zscore + KNN setelah Grid Search: {grid_knn_pca*100:.2f}%&quot;)</span>

<span class="c1"># # Mencari nilai k terbaik</span>
<span class="c1"># best_acc = max(accuracy_dict, key=accuracy_dict.get)</span>
<span class="c1"># best_accuracy = accuracy_dict[n_components] *100</span>
<span class="c1"># print(f&quot;\nAkurasi Terbaik Reduksi Data Zscore + KNN setelah Grid Search: {best_accuracy:.2f}%&quot;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="perbandingan-hasil-akurasi-antara-metode-knn">
<h2>Perbandingan Hasil Akurasi Antara Metode KNN<a class="headerlink" href="#perbandingan-hasil-akurasi-antara-metode-knn" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Daftar metode yang akan dibandingkan</span>
<span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Zscore+KNN Tanpa Reduksi&#39;</span><span class="p">,</span> <span class="s1">&#39;Zscore+KNN dengan PCA&#39;</span><span class="p">,</span> <span class="s1">&#39;Zscore+KNN dengan Grid Search PCA&#39;</span><span class="p">]</span>

<span class="c1"># Daftar akurasi dari setiap metode</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[</span><span class="n">best_accuracy_knnbiasa</span><span class="p">,</span> <span class="n">best_accuracy_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">grid_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># Membuat dataframe dari data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Metode&#39;</span><span class="p">:</span> <span class="n">methods</span><span class="p">,</span> <span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">:</span> <span class="n">accuracies</span><span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Membuat grafik bar dengan Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Metode&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;pastel&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Metode&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Perbandingan Akurasi antara Metode KNN&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>  <span class="c1"># Mengatur batas akurasi dari 0% hingga 100%</span>

<span class="c1"># Menambahkan nilai-nilai akurasi di atas setiap batang</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">accuracies</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bd9ea494857adbba7c836f516d92cf24ce5a1b91fe0ee37ca8a40dcaed701e6e.png" src="_images/bd9ea494857adbba7c836f516d92cf24ce5a1b91fe0ee37ca8a40dcaed701e6e.png" />
</div>
</div>
</section>
<section id="normalisasi-data-minmax">
<h2><strong>Normalisasi Data MinMax</strong><a class="headerlink" href="#normalisasi-data-minmax" title="Permalink to this heading">#</a></h2>
<p>Normalisasi Min-Max adalah salah satu teknik normalisasi yang digunakan dalam pemrosesan data untuk mengubah rentang nilai dalam suatu atribut (kolom) menjadi rentang nilai tertentu, biasanya antara 0 dan 1. Tujuan utama normalisasi Min-Max adalah untuk menjaga proporsi relatif antara nilai-nilai dalam kolom yang berbeda dan menghindari masalah dengan skala yang berbeda dalam data. Cara kerjanya setiap nilai pada sebuah fitur dikurangi dengan nilai minimum fitur tersebut, kemudian dibagi dengan rentang nilai atau nilai maksimum dikurangi nilai minimum dari fitur tersebut.<br />
Rumus normalisasi minmax :<br />
<img alt="image.png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPQAAABBCAYAAADmKIk4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABNPSURBVHhe7d0FtBVV+wbwbX12d3eC3Z0IBgaKumxRLDBQcNnKEhsVxcIWi6VgYAdiYHd3d3fH/Oe3/2e+dTzfbe+Fw7n7Weuse+/cmTkzs/fzxrPfvWeCLEdISEioCUxY+pmQkFADSIROSKghJEInJNQQEqETEmoIidAJCTWEROiEhBpCInRCQg0hETohoYaQCJ1Qtfj999/DnXfeGW666abwyy+/lLbWDfVRr732WrjiiivC999/X9ra/pAInVCV+Prrr8Pxxx8f7rrrrrDUUkuFySefvPSfujHBBBOE2WefPXz77bfhqKOOCi+++GLpP+0LqfQzodXx5ZdfhscffzxMNNFEoXPnzqWtTYfjzzzzzPDjjz+GI488Msw444yl/zSOX3/9NVx66aVhzJgx0SDMN998pf+0DyQPndDq+PDDD8NZZ50VzjvvvNKWpuPPP/8Md9xxR3jooYfCXnvt1Swyw2STTRa22Wab6NFdA4/dnpAIndDqWGSRRcLgwYPDwIEDS1uajvfffz/cdtttYYUVVggLLLBAaWvzwAh07949PPjgg+GRRx4pbW0fSIQex7jyyivDaqutFuadd96w4IILhgEDBkRRBxkWW2yx2LFvvvnm0t5tDx7ys88+i8T64IMPwt9//x2+++678Morr8TPX3/9Fff75ptvwssvvxzefvvteAzI3n766ad4/XLamWaaKW53Djnxxx9/HM8Lv/32W3j33XfDSy+9FL766qt4rPMg4JNPPhnWWmutMPHEE8d9CxDGeP833ngjfodjhNjvvfdezJl//vnn0p4hrL322uGPP/6IgtoXX3xR2toOIIdOGLcYNWpUtvrqq2dLLrlkNnr06CwnQJbnoFnPnj2zkSNHlvYaOxgxYkTWo0ePrGvXrtlhhx2W5QTMjj322Kxjx45Zhw4dspzkWU6qLM9ts0UXXTTbaKONspxg8dgXXnghy/PWbKeddsrWXXfdLM9js5y42cMPP5z16dMn23777bN+/fplOemz6667LuvUqVOWe/Ns0KBBWU7GLA+Ps969e2e5EcueeeaZeM4CuVHJciOXdevWLVt55ZWzIUOGxPMMHz4869KlS5Z78+yJJ54o7Z3F7916663j/5577rnS1tpH8tBVAB569913j78TdHjGnAQh75Bhww03jNvHFiaZZJL4k+dcYoklwmWXXRY9IaWZByVUXXzxxXG/ZZddNnrkwjNOOOGEYcopp4xee9JJJ40RB9jX/3LCx6jDUBT1erPNNovhsfMS0Hhb32tbXar2nHPOGXKjF7/v+uuvDznpw/PPPx/D6+OOOy7MNddcpT3/X/W2v2cp4mgvSISuAhBytthii7DxxhuHxx57LOSeMcw222wx7ESMsQmh6qyzzhq/X2g7yyyzRHHK39ICYtXMM88cDjjggDD11FPH7bmnjscyALlnjuH0MsssE8n9n//8J6YNhpQQ2zG5xwz77rtvJKK/55lnnrifEPnTTz+N2yrve5pppgnbbbdd2H///cN6660X3nrrrfDoo4/G8+yyyy4h9/7xWgog9BRTTBENkHC/SBVqHYnQVYLpp58+7LnnnmHuueeOXopH47UagiKKLbfcMmyyySYNfqi+t99+e+mohsHjykd9N5KJHOSgr776aiQV77jPPvtEr6eQIw+5/0s+pMnD3rjP+uuvH4kJjn/qqafi8Qi7ww47RMITrRBv8cUXj/uBaMC9214XZphhhpCnJ9FY8OSMT0PPyfnk6EWeX+tIhK4SIAPBKM8PYwe95JJLYjhJUKoPea4abrjhhnDrrbc2+Ln22msj8ZoCISqxi7dzfsTiDV2bMHiPPfaI+xlnRv411lgj/g1Ic99990WVm2EqQLT6/PPPI8GXX375sPDCC8ftQm/euVzNdu/OU999MxaeFWPDeDQGxkGUUaQStY5E6CqB8FYouuuuu8Yw8qOPPoq56thWaCnMvJ8UQJiMtIiD2Dyr9IDHE+4q2lhooYVKR4bofR0v9C7PZxkJ97HqqqtGvQAo3Lz+KqusEkNjQFJhPQVb2F4JJH/66adjGN2hQ4doaOrLj3lmObl7mW666SKx2wMSoasACGJoShg6//zzh8033zxssMEG4e677w7Dhg0r7TV2wGsi6nLLLRe9muEpeT1PbBtiMz7SAqJY+Tgv4jsG2QhgP/zwQyTVm2++Gb270L/A/fffH2u1EbgYymIsiGaeRyG0ge8/4ogjYsSi6IRAJ49WNOLcrsezKgdCMxqEsWL4rD0gEXocQ6c84YQTYqiKDLyQzk8hFn6efvrp4eqrr47CTlsDASjUclTEAiRSiikXJ4YVRDEeXClcIRWPyAjYz/8/+eST6LWJZfLdAra5X2PLRTg81VRTRUNGHBP2F0LW66+/HseTRS6MyEorrRQ/DIZqsHvuuSduLwcvLscX4hdqe3vARMfmKP2eMA6gWEOHRRZhoc6HQPfee28klWEaISgBiLdpSyCfa0Cq4rt4QHku9VvoyuAgC/LJ9ynxBRSguE7kWnHFFaPHFbIzRp06dYqevwh97etvxxf5Nu8v/H7nnXeiYenSpUssLmEkkL5bt24xFQBel4eXf9tWbizglltuicNaBLwiZ28PSJMzEqoKDAZFXmRyzDHH/MNgNBUMSO/evaMxNMzFILQXpJA7oarAgwvPjTmfdtppUThrDnjtq666Knp03rk9kRma5aEpj0KwyiEF6qQQzcOrb/wwIaG5MNxGLETMYjivPujGFO/zzz8/5uAHHXRQDP/bG5pFaEMVxiZZwQKED/mRB0ihbS/DAwltD+PR1HQ5u2qzShGuHLoxtVwByzrrrBMLUNojmkVo81tZv2IYwJAEtXPnnXdu0kRyk9VbWrHTt2/fdjX8kJDQEjSL0EIaSmdhKYkXyvaaQmZQUtiMr/sHVB81ZKETEhJaqHIbOzTYr0qovCKoWmDYQ5iWkDA+wOQWOlRroNmELor31eXympWT0KsBUgCVSAkJ4wNMUjHW3xpoFqHlz8r7zAwqKpkIEYQwJXzVgtGjR8ciiYSE8QHmhSvUaQ00i9C8npkrQm3jfKp9hg4dGssCm7L+k4oeRqEluOCCC9q8UiohYXxHkwgtZzYe2L9//3/kpjzztttuG0466aTSloSEhHGJJhHa4m7Dhw+PP8vBSxuDbkl5XkJCQuuj2aJYQkJC9aKmCW1i/dlnn/2P16JYGseyOtNOO21py/gB0yxvvPHGONfYTKbGYLEEUxDNrS4WEEhoOUzVFKV6/qZuNgSUMkfb0C7Bq7KvmU1nHbQChqyUt7bGgpA1XaepRNWYtJJUq0RajkeJ6vhEZp3DnGRVdmYRFQvyNYall1461tybdWQaYXtZJK+1obLRBBHPEfEsQtEYzGco3rN19NFHx8UeyqHisVgeymKLVqcxh7w1kAqvqxyijFNPPTXOjbb6poX2mgpLBllJlGj57LPP/s+kmloCw2dIdcSIEbEcubUguvPyg65du8bn2dQCEHUaPXv2jO124oknRscyNpAIXcUQYRiuQ0TL97RkKiBCqxkwC6k1O3q1AaGtaoJ8zZ1yWR/UMlgn3eIJm266aWlr01G8Z8sY89h6z1YidBXDyppWLpGHGf9vCSxnpE7AcjzW1G5pHUC1Q5grDzUXurEctylgROkQvD4yt3QegSmcXpigGszLE9oa7ZLQVqCU2+joVtmUo5pMb5kda1AJkeQ1RJDddtstrkxp2qipfMAb8HaOsS42L+jYPn36RO+ANJbXtTaXghufQw89NM4nP/fcc2MeTNiyVlh9s8+M9/M4BBRCXjl0NssSqdIjvhQkdYy/zVkvVs3U0S3xQ0ewjrfS3WoE78UjWq+MACXntwyRZ168+8p92iYMLt5tBZ6h5+Rv3pAR87v6CSuRFs/DObU9sdCKoQ3pCoqmPK/iBQOV8/ydx7UKpUVSvs81MZy+rxymc7pG7Wk547ZEuyS0dbwITH7qPPJLC9AJb5Hv8ssvDyNHjoyVaRdeeGEkOG+JgPbXONdcc00UNUzrpD4jvhUzNZqOguhnnHFGJC+V2aqZrDzVmWBlYUBvjqivFt5a1ozDHHPM8Y9pozoO0p5yyinxmtWtW9pWh7aWN8Nj2R25dwEioLDRcTp4tcGaaoyjZ3n44YdHEU9kYg1w1YVe6Geqrjbp0aNHfIaeObhvxtNL3g888MCYWiCy9mU8DznkkLDffvvF+/Y8FUfxmF5q0JAQxYjoF55/8cKAAhyA73MO1+i8ruOcc86JK60QusrBGJj3oE3buiS5XRJaIYzGJ3Agm0XxWHUlraaDsrgsvXWkEc5a0urWdTxTSHlIhLGwHzXTeUzARxqNVnhMy95qcCSksiMeQ0AxVZBTrHZZFzS8T/mC9QVck7WvdTYdTyShft3St7169YrnLzcCcm/XxhBZAKAa4V5cm+cs+vFKWUKUv1Uk+tv7sLQdYbA8H3V/njliaT//RyIGVDsJe0Uv5vNLXbQr0jckcFGmHeNYfaMSVlDxjHloC38w9q61X79+MfQvh2vhHNxXfeuItxbafQ6t0TUE+OmjAeoau0VkH0Rk+anHpo+OGjUqendhenkYh3jCcatVjhkzJi56h6DFYvMNQfhWrPZZDtdG5PIuJ0NZZuk4t+/de++9w4477hi/07z1Aq7D/SBGW3eoloD3sta2tvDR8UUanpPrRt7inV+FkS3yZKRyvwQo98zQgRVLrN3tuYiIeHlrlUmLtIFn2NCIQRHh8M6uqRyuVWTkeUtlhg4dGtsBkbVLpYBW9CcGggFuKNT/t0iiWAuggcw4Y8V5YKGggoO6Zpyx7kIwHYg1560d3xTYtzA2dUEn4rGcjwfWoRs797/N4eTtdAf6Q2Ofgw8+uHRU4xC9iCB4TZqB6MYCGsgrnEUWEZH9RFJIWdyrnFVejcw0EEAa7SOsFjUxDltttVW8f6F0Y+XKDDcwgnU9U+3CUHTs2DFeX/m7vOqD9pQKuM+2QiJ0C6BBWGU5mtyYp15zzTVL//1f6FA6oQ45aNCg/4prDUEn0pmK8L0u8FwIwPITeZqC8jc0tgSMiFfMFoURDX3kxU0BXYJGAQQkpJQ+UIURmsfzve7Xfoo7yiMQJCdi8cgFENJ20RRD67xAEENqgmVD8L2grQtyV0IE5fyISg1vDNpTH2go1fq3SIRuATTkkCFDYicj0NSVYxXglb2+hYBC0JGf6+iNiSNCRp/6PCqiiwyEfKIFghdi1AWdsnjJmw5VbfCMiFa8cvFSPUNGQm8jDEYEeETbhKwW8i/G5Kn2SO65FqQFJOSJpUSiBd7T80FyBBfRNAQGGLR1Xe/Z8r2mE9NQhP3OWx8Qfmy9ZysRugVAJqEc71iExLZVNrwORIjp3LlzXPSd8q1e12tgiGQ6YX3Q4XjTcrUaKLoqx7z+pXhtDY8lFDaUwlNUegseHGHkgpWvjKkGUI3N5JMLF2ErlRsBGMzCGxPGGC8kKxRquoXnQAzj+Sjk4FkwCPLmgpyeAeFNDmx4qSEI330vA1K8Z0sbe4GgNjWioW2MbjAajA0QJyuNMEIb4iL8tbVBbZeEJgzxbpROoapOIGRTeKFz8Wg6FJLoaA888ED0bhqFOOP/cjJW2fuchIYXXXRRJCgl3Hk0+MCBA2MHKnIwDSuXRnwims4hp7K9EvajpOoc5eOaXg6nQxme0dl5CAKRMF44T+mtnLwhx3Ptrrku1XxcAjnluoiK0CB6oRwjnvF98Pw9Z6QtwmFAZh/DjdqpWAQD+QmKcuVCzfaspT+ef6XQVQnXYyTCcyuMh+MZYxGWAhYCmChKioDQtBJt6dhy8ObaZWy8Z6um322lISjQLD0vWXQEHUMuRdBgXTWaMMy+1EjeVIMLk5ABiSixGoPl5zmFhryzcJFaSpXVkDyMdykhjka2LytPnfU9jIfOZx9GxDAKy10pvDi3cwknXXeh6vouHzPGdBDhm04lxEQAUUB5jlbkkgQmIT/P05YhX3Ohs3s+wm3Rg3tlxGz3jKUUwFjKoe1DgCqG5bSRZ+cZehdWUVGH5FajRcqC0M6BcMJ4z7PcMFTCM5RK6RPaysff1HRGg0hXeH6enMER8jMglcbCe7a0gWP0o3JwKJwHY6s//mvkN1izyD1b1r1796xXr15Z3vClreMP8hAvGzx4cNa1a9csDxFLW5uHPNzO+vbtGz85UUpbE5qC3OBm/fv3z3JjneUGprS1eci9epZ78mzAgAGxLSqRR3JZHlFlw4YNK235d0g5dBWDBzGuzEtR1FtS5UVtdhyPXl5sktA4REKGJf1UBdZciAiE5qItVX2FkNeWaBeEFqoZp5SrETLkwOMLhHPKFYXuSlArRbL6QAjLvXvM508++eQ4ja+u8dSEhiGUV2brefrZFKOaO8qo0yjvpQd4k2Z5Xk1c0xd95PSt2R9rOof2oAgg8kg5swco15HDFnnV+AB5m9JSP+VxTfG0iO/eDZfJsRNaDvk0gZLHpbFUVu/VhaIijHBWuT/jIOLSH+k8jK28vjVWtU1riiUk1BBSDp2QUENIhE5IqCEkQick1BASoRMSagiJ0AkJNYRE6ISEGkIidEJCDSEROiGhZhDC/wHo9PMxldNZpAAAAABJRU5ErkJggg==" />\</p>
<ul class="simple">
<li><p>z adalah nilai yang sudah dinormalisasi</p></li>
<li><p>x adalah nilai asli sebelum dinormalisasi</p></li>
<li><p>min(x)dalah nilai minimum dalam atribut tersebut.</p></li>
<li><p>max(x)adalah nilai maksimum dalam atribut tersebut.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Membaca data dari file CSV</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hasil_statistik2.csv&#39;</span><span class="p">)</span>

<span class="c1"># Memisahkan kolom target (label) dari kolom fitur</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">])</span>  <span class="c1"># Kolom fitur</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span>  <span class="c1"># Kolom target</span>

<span class="c1"># Membagi data menjadi data training dan data testing</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Normalisasi Min-Max Scaling pada data training</span>
<span class="n">minmax_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_minmax</span> <span class="o">=</span> <span class="n">minmax_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># Simpan skaler ke dalam file menggunakan pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;minmax_scaler.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scaler_file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">X_train_minmax</span><span class="p">,</span> <span class="n">scaler_file</span><span class="p">)</span>

<span class="c1"># Membuat DataFrame dari data hasil normalisasi Min-Max Scaling</span>
<span class="n">normalized_data_minmax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train_minmax</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Menambahkan kolom target (label) ke DataFrame hasil normalisasi Min-Max Scaling</span>
<span class="n">normalized_data_minmax</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_train</span>

<span class="c1"># Menampilkan data hasil normalisasi Min-Max Scaling</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Hasil Normalisasi Min-Max Scaling:&quot;</span><span class="p">)</span>
<span class="n">normalized_data_minmax</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data Hasil Normalisasi Min-Max Scaling:
</pre></div>
</div>
<div class="output text_html">
  <div id="df-420ae6b8-d723-4884-b11e-2e5af639b547" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Audio Mean</th>
      <th>Audio Median</th>
      <th>Audio Mode</th>
      <th>Audio Maxv</th>
      <th>Audio Minv</th>
      <th>Audio Std</th>
      <th>Audio Skew</th>
      <th>Audio Kurtosis</th>
      <th>Audio Q1</th>
      <th>Audio Q3</th>
      <th>...</th>
      <th>ZCR Median</th>
      <th>ZCR Std</th>
      <th>ZCR Kurtosis</th>
      <th>ZCR Skew</th>
      <th>RMS Energi Mean</th>
      <th>RMS Energi Median</th>
      <th>RMS Energi Std</th>
      <th>RMS Energi Kurtosis</th>
      <th>RMS Energi Skew</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.521872</td>
      <td>0.261029</td>
      <td>0.805727</td>
      <td>0.017600</td>
      <td>0.977957</td>
      <td>0.023725</td>
      <td>0.356807</td>
      <td>0.024907</td>
      <td>0.952194</td>
      <td>0.048721</td>
      <td>...</td>
      <td>0.067227</td>
      <td>0.330911</td>
      <td>0.375023</td>
      <td>0.555452</td>
      <td>0.018463</td>
      <td>0.029091</td>
      <td>0.012434</td>
      <td>0.069409</td>
      <td>0.068824</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.555674</td>
      <td>0.179092</td>
      <td>0.753690</td>
      <td>0.199696</td>
      <td>0.765745</td>
      <td>0.191688</td>
      <td>0.525483</td>
      <td>0.113040</td>
      <td>0.897176</td>
      <td>0.042936</td>
      <td>...</td>
      <td>0.356543</td>
      <td>0.644433</td>
      <td>0.251561</td>
      <td>0.395791</td>
      <td>0.156059</td>
      <td>0.049255</td>
      <td>0.171751</td>
      <td>0.215899</td>
      <td>0.271074</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.507912</td>
      <td>0.212342</td>
      <td>0.807124</td>
      <td>0.253997</td>
      <td>0.761689</td>
      <td>0.261862</td>
      <td>0.427350</td>
      <td>0.083643</td>
      <td>0.848533</td>
      <td>0.128582</td>
      <td>...</td>
      <td>0.403361</td>
      <td>0.655882</td>
      <td>0.156627</td>
      <td>0.254368</td>
      <td>0.247504</td>
      <td>0.117878</td>
      <td>0.250512</td>
      <td>0.231604</td>
      <td>0.333371</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.526790</td>
      <td>0.259863</td>
      <td>0.788918</td>
      <td>0.068521</td>
      <td>0.914511</td>
      <td>0.093615</td>
      <td>0.251442</td>
      <td>0.052463</td>
      <td>0.900331</td>
      <td>0.131524</td>
      <td>...</td>
      <td>0.094838</td>
      <td>0.371140</td>
      <td>0.403612</td>
      <td>0.607472</td>
      <td>0.093002</td>
      <td>0.099608</td>
      <td>0.086683</td>
      <td>0.196568</td>
      <td>0.291783</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.509893</td>
      <td>0.254948</td>
      <td>0.749744</td>
      <td>0.114995</td>
      <td>0.841662</td>
      <td>0.122597</td>
      <td>0.242265</td>
      <td>0.100984</td>
      <td>0.889723</td>
      <td>0.114938</td>
      <td>...</td>
      <td>0.116447</td>
      <td>0.394735</td>
      <td>0.221230</td>
      <td>0.384219</td>
      <td>0.103515</td>
      <td>0.084458</td>
      <td>0.113212</td>
      <td>0.256535</td>
      <td>0.322832</td>
      <td>Orang 2_pleasant_surprise</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2235</th>
      <td>0.574351</td>
      <td>0.247515</td>
      <td>0.771648</td>
      <td>0.047755</td>
      <td>0.920674</td>
      <td>0.081022</td>
      <td>0.204934</td>
      <td>0.055583</td>
      <td>0.947556</td>
      <td>0.099774</td>
      <td>...</td>
      <td>0.212485</td>
      <td>0.524935</td>
      <td>0.061830</td>
      <td>0.151872</td>
      <td>0.077087</td>
      <td>0.063440</td>
      <td>0.073125</td>
      <td>0.169155</td>
      <td>0.246045</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2236</th>
      <td>0.487197</td>
      <td>0.218686</td>
      <td>0.853754</td>
      <td>0.384534</td>
      <td>0.540540</td>
      <td>0.431067</td>
      <td>0.267002</td>
      <td>0.120176</td>
      <td>0.714637</td>
      <td>0.294078</td>
      <td>...</td>
      <td>0.639856</td>
      <td>0.590514</td>
      <td>0.137761</td>
      <td>0.207097</td>
      <td>0.408936</td>
      <td>0.251818</td>
      <td>0.442827</td>
      <td>0.301730</td>
      <td>0.430841</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2237</th>
      <td>0.559925</td>
      <td>0.231682</td>
      <td>0.721047</td>
      <td>0.463882</td>
      <td>0.587414</td>
      <td>0.438841</td>
      <td>0.312320</td>
      <td>0.092805</td>
      <td>0.716046</td>
      <td>0.312492</td>
      <td>...</td>
      <td>0.415366</td>
      <td>0.489807</td>
      <td>0.401682</td>
      <td>0.520124</td>
      <td>0.434160</td>
      <td>0.271030</td>
      <td>0.444764</td>
      <td>0.257232</td>
      <td>0.383420</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2238</th>
      <td>0.593172</td>
      <td>0.236075</td>
      <td>0.688142</td>
      <td>0.140746</td>
      <td>0.820329</td>
      <td>0.146305</td>
      <td>0.215667</td>
      <td>0.073175</td>
      <td>0.864555</td>
      <td>0.206814</td>
      <td>...</td>
      <td>0.141657</td>
      <td>0.383573</td>
      <td>0.396616</td>
      <td>0.584266</td>
      <td>0.146468</td>
      <td>0.154819</td>
      <td>0.145784</td>
      <td>0.322076</td>
      <td>0.433408</td>
      <td>Orang 2_neutral</td>
    </tr>
    <tr>
      <th>2239</th>
      <td>0.547038</td>
      <td>0.077499</td>
      <td>0.765839</td>
      <td>0.213566</td>
      <td>0.871267</td>
      <td>0.136604</td>
      <td>0.683150</td>
      <td>0.113317</td>
      <td>0.834311</td>
      <td>0.085199</td>
      <td>...</td>
      <td>0.270108</td>
      <td>0.876334</td>
      <td>0.044754</td>
      <td>0.146293</td>
      <td>0.113096</td>
      <td>0.089376</td>
      <td>0.126759</td>
      <td>0.323598</td>
      <td>0.366801</td>
      <td>Orang 2_neutral</td>
    </tr>
  </tbody>
</table>
<p>2240 rows × 22 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-420ae6b8-d723-4884-b11e-2e5af639b547')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-420ae6b8-d723-4884-b11e-2e5af639b547 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-420ae6b8-d723-4884-b11e-2e5af639b547');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-2401ee99-5b1a-4716-b21f-5ecdf9415470">
  <button class="colab-df-quickchart" onclick="quickchart('df-2401ee99-5b1a-4716-b21f-5ecdf9415470')"
            title="Suggest charts."
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-2401ee99-5b1a-4716-b21f-5ecdf9415470 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>
    </div>
  </div>
</div></div>
</div>
</section>
<section id="minmax-knn-tanpa-reduksi">
<h2>MinMax+KNN Tanpa Reduksi<a class="headerlink" href="#minmax-knn-tanpa-reduksi" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Buat DataFrame dari hasil normalisasi</span>
<span class="n">normminmax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">normalized_data_minmax</span><span class="p">)</span>
<span class="c1"># Simpan DataFrame ke dalam file CSV</span>
<span class="n">normminmax</span> <span class="o">=</span> <span class="n">normalized_data_minmax</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hasil_normalisasi_minmax.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;minmax_scaler.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">scaler_file</span><span class="p">:</span>
    <span class="n">normalisasiminmax</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">scaler_file</span><span class="p">)</span>

<span class="c1"># Membuat daftar nilai k dari 1 hingga 50</span>
<span class="n">k_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>

<span class="c1"># Membuat dictionary untuk menyimpan akurasi untuk setiap nilai k</span>
<span class="n">accuracy_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Melakukan loop untuk mencoba setiap nilai k</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_values</span><span class="p">:</span>
    <span class="c1"># Mendefinisikan dan melatih model KNN</span>
    <span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">normalisasiminmax</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

    <span class="c1"># Normalisasi Min-Max Scaling pada data testing</span>
    <span class="n">X_test_minmax</span> <span class="o">=</span> <span class="n">minmax_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="c1"># Melakukan prediksi pada data testing yang telah dinormalisasi</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_minmax</span><span class="p">)</span>

    <span class="c1"># Mengukur akurasi model</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

    <span class="c1"># Menyimpan akurasi dalam dictionary</span>
    <span class="n">accuracy_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">accuracy</span>

<span class="c1"># Menampilkan akurasi untuk setiap nilai k</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">accuracy</span> <span class="ow">in</span> <span class="n">accuracy_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi Model dengan k=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Mencari nilai k terbaik</span>
<span class="n">best_k</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">accuracy_dict</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">accuracy_dict</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
<span class="n">best_accuracy_knnbiasa</span> <span class="o">=</span> <span class="n">accuracy_dict</span><span class="p">[</span><span class="n">best_k</span><span class="p">]</span> <span class="o">*</span><span class="mi">100</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jadi nilai akurasi terbaik yakni ada pada K </span><span class="si">{</span><span class="n">best_k</span><span class="si">}</span><span class="s2"> dengan akurasi sebesar </span><span class="si">{</span><span class="n">best_accuracy_knnbiasa</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="c1"># Simpan model KNN dan hasil akurasi terbaik ke dalam file pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;minmax knn model.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">((</span><span class="n">knn_model</span><span class="p">,</span> <span class="n">best_k</span><span class="p">),</span> <span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi Model dengan k=1: 0.7714
Akurasi Model dengan k=2: 0.7250
Akurasi Model dengan k=3: 0.7679
Akurasi Model dengan k=4: 0.7768
Akurasi Model dengan k=5: 0.7857
Akurasi Model dengan k=6: 0.7857
Akurasi Model dengan k=7: 0.7893
Akurasi Model dengan k=8: 0.7929
Akurasi Model dengan k=9: 0.8089
Akurasi Model dengan k=10: 0.8018
Akurasi Model dengan k=11: 0.7857
Akurasi Model dengan k=12: 0.7804
Akurasi Model dengan k=13: 0.7875
Akurasi Model dengan k=14: 0.7804
Akurasi Model dengan k=15: 0.7839
Akurasi Model dengan k=16: 0.7875
Akurasi Model dengan k=17: 0.7964
Akurasi Model dengan k=18: 0.7982
Akurasi Model dengan k=19: 0.7857
Akurasi Model dengan k=20: 0.7857
Akurasi Model dengan k=21: 0.7804
Akurasi Model dengan k=22: 0.7839
Akurasi Model dengan k=23: 0.7732
Akurasi Model dengan k=24: 0.7714
Akurasi Model dengan k=25: 0.7643
Akurasi Model dengan k=26: 0.7643
Akurasi Model dengan k=27: 0.7625
Akurasi Model dengan k=28: 0.7625
Akurasi Model dengan k=29: 0.7536
Akurasi Model dengan k=30: 0.7625
Akurasi Model dengan k=31: 0.7571
Akurasi Model dengan k=32: 0.7625
Akurasi Model dengan k=33: 0.7571
Akurasi Model dengan k=34: 0.7536
Akurasi Model dengan k=35: 0.7571
Akurasi Model dengan k=36: 0.7536
Akurasi Model dengan k=37: 0.7607
Akurasi Model dengan k=38: 0.7536
Akurasi Model dengan k=39: 0.7571
Akurasi Model dengan k=40: 0.7607
Akurasi Model dengan k=41: 0.7554
Akurasi Model dengan k=42: 0.7589
Akurasi Model dengan k=43: 0.7500
Akurasi Model dengan k=44: 0.7571
Akurasi Model dengan k=45: 0.7464
Akurasi Model dengan k=46: 0.7446
Akurasi Model dengan k=47: 0.7446
Akurasi Model dengan k=48: 0.7393
Akurasi Model dengan k=49: 0.7339
Akurasi Model dengan k=50: 0.7357

Jadi nilai akurasi terbaik yakni ada pada K 9 dengan akurasi sebesar 80.89%
</pre></div>
</div>
</div>
</div>
</section>
<section id="prediksi-minmax-knn">
<h2>Prediksi MinMax + KNN<a class="headerlink" href="#prediksi-minmax-knn" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load data tes prediksi memakai suara mubes</span>
<span class="n">df_tes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tes suara prediksi.csv&#39;</span><span class="p">)</span>
<span class="n">df_tes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-bbc53edd-6abc-427b-af7b-0795e3bd9e02" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Audio Mean</th>
      <th>Audio Median</th>
      <th>Audio Mode</th>
      <th>Audio Maxv</th>
      <th>Audio Minv</th>
      <th>Audio Std</th>
      <th>Audio Skew</th>
      <th>Audio Kurtosis</th>
      <th>Audio Q1</th>
      <th>Audio Q3</th>
      <th>...</th>
      <th>ZCR Median</th>
      <th>ZCR Std</th>
      <th>ZCR Kurtosis</th>
      <th>ZCR Skew</th>
      <th>RMS Energi Mean</th>
      <th>RMS Energi Median</th>
      <th>RMS Energi Std</th>
      <th>RMS Energi Kurtosis</th>
      <th>RMS Energi Skew</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.000007</td>
      <td>-0.00096</td>
      <td>-0.10141</td>
      <td>0.40527</td>
      <td>-0.238503</td>
      <td>0.071989</td>
      <td>1.190213</td>
      <td>3.795624</td>
      <td>-0.033727</td>
      <td>0.013462</td>
      <td>...</td>
      <td>0.039551</td>
      <td>0.102754</td>
      <td>6.855275</td>
      <td>2.712728</td>
      <td>0.0003</td>
      <td>0.000103</td>
      <td>0.000465</td>
      <td>0.022387</td>
      <td>0.009064</td>
      <td>tes suara mubes</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 22 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-bbc53edd-6abc-427b-af7b-0795e3bd9e02')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-bbc53edd-6abc-427b-af7b-0795e3bd9e02 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-bbc53edd-6abc-427b-af7b-0795e3bd9e02');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load model KNN dari file pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;minmax knn model.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">knn_model</span><span class="p">,</span> <span class="n">best_k</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="c1"># load data CSV</span>
<span class="n">df_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tes suara prediksi.csv&#39;</span><span class="p">)</span>

<span class="c1"># Hapus kolom label untuk membuat data yang akan dijadikan input prediksi</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">df_new</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">])</span>

<span class="c1"># prediksi</span>
<span class="n">y_pred_new</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">best_k</span><span class="p">)</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>

<span class="c1"># hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil Prediksi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred_new</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hasil Prediksi:
[&#39;Orang 1_angry&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/sklearn/base.py:432: UserWarning: X has feature names, but KNeighborsClassifier was fitted without feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="minmax-knn-dengan-pca">
<h2>MinMax+KNN dengan PCA<a class="headerlink" href="#minmax-knn-dengan-pca" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">joblib</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>

<span class="c1"># Melakukan PCA dengan nilai n_components dari 20 sampai 1</span>
<span class="n">best_n_components</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">best_k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">best_accuracy_knn_pca</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">n_components</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_components</span><span class="p">)</span>
    <span class="n">X_train_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalisasiminmax</span><span class="p">)</span>
    <span class="n">X_test_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test_minmax</span><span class="p">)</span>

    <span class="c1"># Membuat daftar nilai k dari 1 hingga 50</span>
    <span class="n">k_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>

    <span class="c1"># Membuat variabel untuk menyimpan akurasi terbaik dan nilai k terbaik untuk n_components saat ini</span>
    <span class="n">local_best_accuracy</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">local_best_k</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Melakukan loop untuk mencoba setiap nilai k</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_values</span><span class="p">:</span>
        <span class="c1"># Mendefinisikan dan melatih model KNN</span>
        <span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_pca</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  <span class="c1"># Menggunakan data yang telah direduksi oleh PCA</span>

        <span class="c1"># Melakukan prediksi pada data testing yang telah direduksi oleh PCA</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_pca</span><span class="p">)</span>

        <span class="c1"># Mengukur akurasi model</span>
        <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

        <span class="c1"># Memperbarui nilai k terbaik jika ditemukan akurasi yang lebih tinggi</span>
        <span class="k">if</span> <span class="n">accuracy</span> <span class="o">&gt;</span> <span class="n">local_best_accuracy</span><span class="p">:</span>
            <span class="n">local_best_accuracy</span> <span class="o">=</span> <span class="n">accuracy</span>
            <span class="n">local_best_k</span> <span class="o">=</span> <span class="n">k</span>

    <span class="c1"># Menampilkan hasil terbaik untuk setiap n_components</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Untuk n_components = </span><span class="si">{</span><span class="n">n_components</span><span class="si">}</span><span class="s2">, K terbaik adalah </span><span class="si">{</span><span class="n">local_best_k</span><span class="si">}</span><span class="s2"> dengan akurasi </span><span class="si">{</span><span class="n">local_best_accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Memperbarui nilai n_components terbaik jika ditemukan akurasi yang lebih tinggi</span>
    <span class="k">if</span> <span class="n">local_best_accuracy</span> <span class="o">&gt;</span> <span class="n">best_accuracy_knn_pca</span><span class="p">:</span>
        <span class="n">best_accuracy_knn_pca</span> <span class="o">=</span> <span class="n">local_best_accuracy</span>
        <span class="n">best_k</span> <span class="o">=</span> <span class="n">local_best_k</span>
        <span class="n">best_n_components</span> <span class="o">=</span> <span class="n">n_components</span>

<span class="c1"># Menampilkan hasil terbaik secara keseluruhan</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jadi nilai akurasi terbaik ada pada n_components </span><span class="si">{</span><span class="n">best_n_components</span><span class="si">}</span><span class="s2">, dengan nilai K </span><span class="si">{</span><span class="n">best_k</span><span class="si">}</span><span class="s2"> dan hasil akurasi sebesar </span><span class="si">{</span><span class="n">best_accuracy_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Untuk n_components = 20, K terbaik adalah 9 dengan akurasi 0.8089
Untuk n_components = 19, K terbaik adalah 9 dengan akurasi 0.8089
Untuk n_components = 18, K terbaik adalah 9 dengan akurasi 0.8089
Untuk n_components = 17, K terbaik adalah 9 dengan akurasi 0.8089
Untuk n_components = 16, K terbaik adalah 9 dengan akurasi 0.8125
Untuk n_components = 15, K terbaik adalah 9 dengan akurasi 0.8071
Untuk n_components = 14, K terbaik adalah 9 dengan akurasi 0.8000
Untuk n_components = 13, K terbaik adalah 9 dengan akurasi 0.7982
Untuk n_components = 12, K terbaik adalah 9 dengan akurasi 0.7946
Untuk n_components = 11, K terbaik adalah 9 dengan akurasi 0.7929
Untuk n_components = 10, K terbaik adalah 9 dengan akurasi 0.7821
Untuk n_components = 9, K terbaik adalah 17 dengan akurasi 0.7696
Untuk n_components = 8, K terbaik adalah 16 dengan akurasi 0.7607
Untuk n_components = 7, K terbaik adalah 11 dengan akurasi 0.7714
Untuk n_components = 6, K terbaik adalah 11 dengan akurasi 0.7536
Untuk n_components = 5, K terbaik adalah 25 dengan akurasi 0.7161
Untuk n_components = 4, K terbaik adalah 11 dengan akurasi 0.6643
Untuk n_components = 3, K terbaik adalah 27 dengan akurasi 0.5964
Untuk n_components = 2, K terbaik adalah 9 dengan akurasi 0.4500
Untuk n_components = 1, K terbaik adalah 46 dengan akurasi 0.3411

Jadi nilai akurasi terbaik ada pada n_components 16, dengan nilai K 9 dan hasil akurasi sebesar 81.25%
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="minmax-knn-dengan-grid-search-pca">
<h1>MinMax+KNN dengan Grid Search PCA<a class="headerlink" href="#minmax-knn-dengan-grid-search-pca" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Mendefinisikan parameter yang ingin diuji</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_neighbors&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">)),</span>
    <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">],</span>
    <span class="s1">&#39;metric&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;euclidean&#39;</span><span class="p">,</span> <span class="s1">&#39;manhattan&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Mendefinisikan model KNN</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">()</span>

<span class="c1"># Mendefinisikan Grid Search dengan model KNN dan parameter yang diuji</span>
<span class="n">grid_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">knn</span><span class="p">,</span> <span class="n">param_grid</span><span class="o">=</span><span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)</span>
<span class="n">grid_search</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>  <span class="c1"># Menggunakan X_train tanpa PCA</span>

<span class="c1"># Menampilkan parameter terbaik</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parameter terbaik :&quot;</span><span class="p">,</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skor Akurasi Terbaik:&quot;</span><span class="p">,</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_score_</span><span class="p">)</span>
<span class="c1"># Menggunakan PCA dengan komponen utama terbaik</span>
<span class="n">best_n_neighbors</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;n_neighbors&#39;</span><span class="p">]</span>
<span class="n">best_weights</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;weights&#39;</span><span class="p">]</span>
<span class="n">best_metric</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">&#39;metric&#39;</span><span class="p">]</span>

<span class="c1"># Menghitung PCA dengan jumlah komponen sesuai jumlah fitur</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># Gunakan jumlah fitur sebagai n_components</span>
<span class="n">X_train_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalisasiminmax</span><span class="p">)</span>
<span class="n">X_test_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test_minmax</span><span class="p">)</span>

<span class="c1"># Membuat model KNN dengan hyperparameter terbaik</span>
<span class="n">best_knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">best_n_neighbors</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">best_weights</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">best_metric</span><span class="p">)</span>
<span class="n">best_knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_pca</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Membuat prediksi menggunakan model terbaik</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">best_knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_pca</span><span class="p">)</span>

<span class="c1"># Mengukur akurasi model terbaik pada data testing</span>
<span class="n">grid_knn_pca</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi Reduksi Data MinMax + KNN setelah Grid Search: </span><span class="si">{</span><span class="n">grid_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Parameter terbaik : {&#39;metric&#39;: &#39;manhattan&#39;, &#39;n_neighbors&#39;: 9, &#39;weights&#39;: &#39;distance&#39;}
Skor Akurasi Terbaik: 0.6071428571428571
Akurasi Reduksi Data MinMax + KNN setelah Grid Search: 81.79
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h2>Perbandingan Hasil Akurasi Antara Metode KNN<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fiximport</span> <span class="n">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Daftar metode yang akan dibandingkan</span>
<span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MinMax+KNN Tanpa Reduksi&#39;</span><span class="p">,</span> <span class="s1">&#39;MinMax+KNN dengan PCA&#39;</span><span class="p">,</span> <span class="s1">&#39;MinMax+KNN dengan Grid Search PCA&#39;</span><span class="p">]</span>

<span class="c1"># Daftar akurasi dari setiap metode</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[</span><span class="n">best_accuracy_knnbiasa</span><span class="p">,</span> <span class="n">best_accuracy_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">grid_knn_pca</span><span class="o">*</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># Membuat dataframe dari data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Metode&#39;</span><span class="p">:</span> <span class="n">methods</span><span class="p">,</span> <span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">:</span> <span class="n">accuracies</span><span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Membuat grafik bar dengan Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Metode&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;pastel&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Metode&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Akurasi (%)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Perbandingan Akurasi antara Metode KNN&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">accuracies</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4e3f25b28cdae68570a28ea99ce1b98a057568acac75a6949a898fcaf30713ee.png" src="_images/4e3f25b28cdae68570a28ea99ce1b98a057568acac75a6949a898fcaf30713ee.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PROYEK SAINS DATA EXTRAKSI CIRI AUDIO</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-dan-informasi-dataset">DESKRIPSI DAN INFORMASI DATASET</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-pustaka-python"><strong>Import pustaka python</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-statistik-frekuensi"><strong>Fungsi untuk menghitung statistik frekuensi</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-zero-crossig-rate"><strong>Fungsi untuk menghitung zero crossig rate</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-untuk-menghitung-rms-root-mean-square-energi-signal"><strong>Fungsi untuk menghitung RMS (Root Mean Square) energi signal</strong></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ekstraksi-fitur-dari-sejumlah-file-audio-dalam-berbagai-folder"><strong>Ekstraksi fitur dari sejumlah file audio dalam berbagai folder</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#menyimpan-hasil-ekstraksi-fitur-ke-dalam-csv"><strong>Menyimpan hasil ekstraksi fitur ke dalam csv</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data-csv"><strong>Menampilkan data CSV</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data"><strong>Normalisasi Data</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#melihat-mean-dan-standar-devisiasi-setiap-kolom">Melihat mean dan standar devisiasi setiap kolom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-zscore"><strong>Normalisasi Data Zscore</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zscore-knn-tanpa-reduksi">Zscore+KNN Tanpa Reduksi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-knn">Prediksi KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduksi-data-zscore-knn-dengan-pca">Reduksi Data (Zscore+KNN dengan PCA)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zscore-knn-dengan-grid-search-pca">Zscore+KNN dengan Grid Search PCA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-hasil-akurasi-antara-metode-knn">Perbandingan Hasil Akurasi Antara Metode KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-minmax"><strong>Normalisasi Data MinMax</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-tanpa-reduksi">MinMax+KNN Tanpa Reduksi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-minmax-knn">Prediksi MinMax + KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-dengan-pca">MinMax+KNN dengan PCA</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#minmax-knn-dengan-grid-search-pca">MinMax+KNN dengan Grid Search PCA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Perbandingan Hasil Akurasi Antara Metode KNN</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mubessirul Ummah
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>